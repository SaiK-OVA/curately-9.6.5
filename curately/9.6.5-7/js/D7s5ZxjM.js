import{k as a,r as u,S as p,l as b,T as s,A,L as E}from"./Cgppv_Sf.js";import{D as V}from"./kx4FOAoQ.js";import{M as f}from"./CkGdyBwG.js";import{E as v}from"./CdCY4wuj.js";import{L as S}from"./CbbOXEJA.js";import{C as T}from"./CicR4FO4.js";import{T as l}from"./CagltWra.js";import"./CtTUZ4Jr.js";import"./BxLAtHuG.js";import"./XPHitdj4.js";import"./ChUKxi90.js";import"./D6SqIoha.js";import"./Bp2g836F.js";import"./BJCg17MG.js";import"./D8IKBRq0.js";import"./BESjHuWm.js";import"./DYhLeBIs.js";import"./DaGbQO6h.js";import"./6HgfybZm.js";import"./CW6dvan5.js";import"./CB9nuhLI.js";import"./Dho3ZFNS.js";import"./DZd2l5Bl.js";import"./dZX7lgtO.js";import"./DxILc9AR.js";import"./B-98_CNj.js";import"./DIGW6AYh.js";import"./BiLTbjOU.js";import"./CAWvjt4G.js";import"./CbCF5Xps.js";import"./BteIfgc7.js";import"./8-7dSsDd.js";import"./BGveyHVg.js";import"./FVe6lIVR.js";import"./DKC21gSL.js";import"./B7NoFbgU.js";import"./C-Jq_Y4P.js";import"./CRJpcgJc.js";import"./PyTvx8hA.js";import"./CMCYaaxo.js";import"./CVn_imtJ.js";import"./B_ivY0h5.js";import"./Dau3miA7.js";import"./rYcqsWUw.js";import"./CtuCFr0K.js";import"./C7pzRmL5.js";import"./CVtbaTfk.js";import"./gltQ0rpT.js";import"./6vuVcGup.js";const j=({content:r,maxLines:y,expanded:d})=>{r=r.replace('<style type="text/css">','<style type="text/css"> .htmlCont {'),r=r.replace('<style style="text/css">','<style style="text/css"> .htmlCont {'),r=r.replace("<style>","<style> .htmlContent {"),r=r.replace("</style>","} </style>");const m=r.replace(/<p>\s*<\/p>/g,"").replace(/<br\s*\/?>/g,""),o=document.createElement("div");o.innerHTML=m;const c=o.innerText.trim();return a.jsxDEV("div",{className:"readMoreContent",style:{maxHeight:d?"none":`${y*20}px`,color:d?"#1a1a1a":"#737373",padding:d?"10px":"2px",overflow:d?"auto":"hidden"},children:a.jsxDEV("div",{dangerouslySetInnerHTML:{__html:d?m:c.substring(0,50)}},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/ReadMoreMaster.tsx",lineNumber:36,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/ReadMoreMaster.tsx",lineNumber:26,columnNumber:5},void 0)},Ve=({candidateId:r,emailId:y,contactId:d,refreshList:m})=>{const[o,c]=u.useState([]),[C,D]=u.useState({}),x=()=>{try{A.postWithData("admin","emailLog",{userId:r||"",contId:d||"",page:0,clientId:E.getvalue("clientId"),recrId:E.getvalue("recrId")}).then(e=>{if(e.data.Message==="Success"){let n=e.data.emailslog,t=JSON.parse(JSON.stringify(n));for(let i=0;i<t.length;i++)t[i].body=f.RemoveStyleTag(t[i].body),t[i].subject=t[i].subject?t[i].subject.replace(/[^a-zA-Z0-9~`!@#$%^&*()_+-={}|:;<>,.?\/ \n[\]']/g,""):"",t[i].textBody=f.ToText(t[i].body);t=t.sort((i,L)=>new Date(L.date).getTime()-new Date(i.date).getTime()),c(t)}})}catch{}},h=e=>{D(n=>({...n,[e]:!n[e]}))},N=e=>V.fromFormat(e.substring(0,19),"yyyy-MM-dd hh:mm:ss").toFormat("MM/dd/yyyy, t");return u.useEffect(()=>{x()},[m]),a.jsxDEV("div",{className:"EmailList",children:a.jsxDEV(p,{className:"mainStack",children:a.jsxDEV(p,{sx:{width:"100%"},children:a.jsxDEV(b,{className:"",sx:{padding:"0 !important"},children:[a.jsxDEV(b,{className:"mainHeadBox px-0",children:a.jsxDEV(s,{className:"Emails-Style",children:"Email History"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:167,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:166,columnNumber:25},void 0),a.jsxDEV(p,{children:a.jsxDEV("div",{className:"cardBottom",children:o.map((e,n)=>{var i;const t=((i=e._id)==null?void 0:i.$oid)||e.emailId||n;return a.jsxDEV(T,{className:"cardContentHover handcursor px-0 d-flex",onClick:()=>h(t),children:a.jsxDEV("div",{className:"email_maindiv",children:[e.type==="OUT"?a.jsxDEV(s,{className:"email-recruiter",sx:{paddingBottom:"2px !important"},children:[a.jsxDEV(l,{title:e.senderEmail,children:e.recrName},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:189,columnNumber:53},void 0),e.candidateName&&a.jsxDEV(a.Fragment,{children:[" to ",a.jsxDEV(l,{title:e.candidateEmail,children:a.jsxDEV("u",{children:e.candidateName},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:192,columnNumber:94},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:192,columnNumber:57},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:190,columnNumber:76},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:188,columnNumber:72},void 0):a.jsxDEV(s,{className:"email-recruiter",sx:{paddingBottom:"2px !important"},children:[a.jsxDEV(l,{title:e.candidateEmail,children:a.jsxDEV("u",{children:e.candidateName},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:198,columnNumber:94},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:198,columnNumber:57},void 0),e.candidateName&&a.jsxDEV(a.Fragment,{children:[" to ",a.jsxDEV(l,{title:e.senderEmail,children:e.recrName},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:201,columnNumber:61},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:199,columnNumber:80},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:197,columnNumber:53},void 0),a.jsxDEV(s,{className:"email-subject tt-capital",children:e.subject.length>50?e.subject.trim().substring(0,50)+"...":e.subject.trim()},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:208,columnNumber:49},void 0),a.jsxDEV(s,{variant:"subtitle2",color:"text.secondary",children:a.jsxDEV(j,{content:e.body,maxLines:1,expanded:!!C[t]},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:213,columnNumber:53},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:211,columnNumber:49},void 0),a.jsxDEV("div",{className:"dateSection",children:a.jsxDEV(s,{variant:"body2",color:"text.secondary",sx:{fontSize:"12px",fontWeight:"500"},children:[a.jsxDEV(l,{title:e.type==="OUT"?`Sent on ${N(e.date)}`:`Received on ${N(e.date)}`,children:a.jsxDEV(v,{sx:{fontSize:"16px",verticalAlign:"middle",paddingRight:"2px"}},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:230,columnNumber:61},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:224,columnNumber:57},void 0)," ",e.date?S.ServerEDTToSystem(e.date.substring(0,19),"yyyy-MM-dd hh:mm:ss","MM/dd/yyyy hh:mm a"):null]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:220,columnNumber:53},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:219,columnNumber:49},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:187,columnNumber:45},void 0)},n+"emailList",!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:175,columnNumber:41},void 0)})},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:170,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:169,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:165,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:164,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:163,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:162,columnNumber:9},void 0)};export{Ve as default};
