import{e as de,j as J,r as o,W as O,A as k,L as W,k as e,T as g,l as H,S as z,B as w,O as j,V as y,G as ue,I as Ce}from"./Cgppv_Sf.js";import{M as he}from"./D8IKBRq0.js";import{D as ee}from"./BiLTbjOU.js";import{D as I,A as be}from"./kx4FOAoQ.js";import{L as fe,D as Q,e as Se,b as ge,c as X}from"./CtTUZ4Jr.js";import{e as De}from"./XPHitdj4.js";import{L as Le}from"./XFArKoHE.js";import{S as Ne}from"./GDwwTdj-.js";import{C as pe}from"./B93O5liC.js";import{C as ye}from"./CAYZvuI-.js";import{T as R}from"./BxLAtHuG.js";import{I as xe}from"./Bp2g836F.js";import{M as Y}from"./ChUKxi90.js";import{T as Z}from"./CagltWra.js";import"./BESjHuWm.js";import"./DYhLeBIs.js";import"./DaGbQO6h.js";import"./6HgfybZm.js";import"./CW6dvan5.js";import"./CB9nuhLI.js";import"./Dho3ZFNS.js";import"./DZd2l5Bl.js";import"./dZX7lgtO.js";import"./DxILc9AR.js";import"./D6SqIoha.js";import"./B-98_CNj.js";import"./DIGW6AYh.js";import"./CAWvjt4G.js";import"./CbCF5Xps.js";import"./BteIfgc7.js";import"./BJCg17MG.js";import"./DUrHk-MO.js";import"./C-Jq_Y4P.js";import"./CRJpcgJc.js";import"./FVe6lIVR.js";import"./CVtbaTfk.js";import"./CPvg8iC8.js";const Ee=de([J.jsx("path",{d:"M6.41 6 5 7.41 9.58 12 5 16.59 6.41 18l6-6z"},"0"),J.jsx("path",{d:"m13 6-1.41 1.41L16.17 12l-4.58 4.59L13 18l6-6z"},"1")],"KeyboardDoubleArrowRightOutlined");function Ae(){const[n,D]=o.useState({});o.useEffect(()=>{d()},[]);const d=()=>{O(k.getById("admin","getCredits",`${W.getvalue("clientId")}/${W.getvalue("recrId")}`).then(c=>{c.data.Success&&D(c.data)}))};return e.jsxDEV("div",{children:[e.jsxDEV(g,{variant:"h6",sx:{fontSize:"14px"},gutterBottom:!0,children:"Show Stats"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:31,columnNumber:13},this),e.jsxDEV(ee,{sx:{mb:1}},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:32,columnNumber:13},this),e.jsxDEV(g,{variant:"h6",sx:{mb:1,fontSize:"14px"},children:"Email Credits Summary"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:33,columnNumber:13},this),e.jsxDEV(H,{sx:{display:"flex",flexDirection:"column",gap:1,mb:3},children:[e.jsxDEV(g,{children:`Total Credits: ${(n==null?void 0:n.totalProfileCredits)||0}`},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:35,columnNumber:17},this),e.jsxDEV(g,{children:`Used Credits: ${(n==null?void 0:n.consumedProfileCredits)||0}`},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:38,columnNumber:17},this),e.jsxDEV(g,{children:`Remaining Credits: ${((n==null?void 0:n.totalProfileCredits)||0)-((n==null?void 0:n.consumedProfileCredits)||0)}`},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:39,columnNumber:17},this)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:34,columnNumber:13},this),e.jsxDEV(g,{variant:"h6",sx:{mb:1,fontSize:"14px"},children:"Phone Credits Summary"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:42,columnNumber:13},this),e.jsxDEV(H,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e.jsxDEV(g,{children:`Total Credits: ${(n==null?void 0:n.totalSmsCredits)||0}`},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:44,columnNumber:17},this),e.jsxDEV(g,{children:`Used Credits: ${(n==null?void 0:n.consumedSmsCredits)||0}`},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:47,columnNumber:17},this),e.jsxDEV(g,{children:`Remaining Credits: ${((n==null?void 0:n.totalSmsCredits)||0)-((n==null?void 0:n.consumedSmsCredits)||0)}`},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:48,columnNumber:17},this)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:43,columnNumber:13},this)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:30,columnNumber:9},this)}function ve(){const[n,D]=o.useState([]),[d,c]=o.useState(0),[E,F]=o.useState(200),[u,P]=o.useState(0),[f,A]=o.useState(!1),[C,S]=o.useState(!1),[N,v]=o.useState(I.now()),[L,T]=o.useState(I.now()),M=async(h,U)=>{const B={clientId:W.getvalue("clientId"),recrId:W.getvalue("recrId"),next:h*U,pageSize:U,startDate:C?N.toFormat("yyyy-MM-dd"):null,endDate:C?L.toFormat("yyyy-MM-dd"):null};if(A(!0),N.startOf("day")>L.startOf("day"))return y("Start Date should be less than End Date.","error"),!1;O(k.postWithData("admin","recruiter/creditStats/activity-log",B).then(x=>{var q;if(x.data.Success){const p=((q=x==null?void 0:x.data)==null?void 0:q.recruiterLogList)||[];d>=1?D(V=>[...V,...p]):D([...p]),P(x.data.total||0)}else y(x.data.Message||"An error occurred while fetching logs","error");A(!1)}).catch(()=>{A(!1)}))},$=()=>{S(!1),v(I.now()),T(I.now())};return o.useEffect(()=>{M(d,E)},[d,C]),e.jsxDEV("div",{id:"logs-list",children:[e.jsxDEV(z,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:1,children:[e.jsxDEV(g,{variant:"h6",sx:{fontSize:"14px"},children:"Show Logs"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:76,columnNumber:17},this),!C&&u>9?e.jsxDEV(w,{color:"secondary",variant:"outlined",size:"small",onClick:()=>S(!0),children:"Show more"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:77,columnNumber:50},this):null]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:75,columnNumber:13},this),e.jsxDEV(ee,{sx:{mb:1}},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:79,columnNumber:13},this),C?e.jsxDEV(z,{spacing:.75,mt:1.5,mb:.75,children:[e.jsxDEV(fe,{dateAdapter:be,children:e.jsxDEV(j,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",children:[e.jsxDEV(Q,{label:"Start Date",value:N,onChange:h=>{v(h||I.now())},sx:{width:"133px"},slotProps:{textField:{size:"small",fullWidth:!1,InputProps:{style:{textAlign:"center"}}}},maxDate:L},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:88,columnNumber:25},this),e.jsxDEV(Q,{label:"End Date",value:L,onChange:h=>{T(h||I.now())},sx:{width:"133px",marginLeft:"4px"},slotProps:{textField:{size:"small",fullWidth:!1,InputProps:{style:{textAlign:"center"}}}},maxDate:I.now()},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:117,columnNumber:25},this)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:82,columnNumber:21},this)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:81,columnNumber:17},this),e.jsxDEV(z,{direction:"row",justifyContent:"flex-end",alignItems:"center",spacing:2,children:[e.jsxDEV(w,{variant:"outlined",color:"secondary",sx:{textTransform:"none",height:"24px"},onClick:$,children:"Clear"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:148,columnNumber:21},this),e.jsxDEV(w,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>{M(d,E)},children:"Get Data"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:149,columnNumber:21},this)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:147,columnNumber:17},this)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:80,columnNumber:23},this):null,e.jsxDEV(De,{disablePadding:!0,sx:{height:`calc(100vh - ${C?"318px":"242px"})`},children:n!=null&&n.length?n.map((h,U)=>e.jsxDEV(Se,{children:e.jsxDEV(Le,{primary:h.descr,secondary:new Date(h.actionDate).toLocaleDateString()},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:157,columnNumber:25},this)},U,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:156,columnNumber:21},this)):e.jsxDEV(g,{textAlign:"center",my:6,children:"No logs available"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:160,columnNumber:21},this)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:154,columnNumber:13},this)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:74,columnNumber:9},this)}function Te(){const[n,D]=o.useState("Stats"),[d,c]=o.useState(1),E=(F,u)=>{D(u),c(1)};return e.jsxDEV("div",{children:["   ",e.jsxDEV(ue,{sx:{mb:2,boxShadow:"none"},children:[e.jsxDEV(ge,{value:n,onChange:E,sx:{px:1,"& .MuiTab-root":{textTransform:"capitalize"},fontSize:"16px",borderBottom:"1px solid #E0E0E0","& .MuiTab-textColorPrimary":{color:"#000"}},children:[e.jsxDEV(X,{value:"Stats",label:"Stats"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/StatsandLogs.tsx",lineNumber:31,columnNumber:17},this),e.jsxDEV(X,{value:"Logs",label:"Logs"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/StatsandLogs.tsx",lineNumber:32,columnNumber:17},this)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/StatsandLogs.tsx",lineNumber:19,columnNumber:13},this),e.jsxDEV(H,{sx:{mt:0,p:2},children:n==="Stats"?e.jsxDEV(e.Fragment,{children:e.jsxDEV(Ae,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/StatsandLogs.tsx",lineNumber:63,columnNumber:25},this)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/StatsandLogs.tsx",lineNumber:62,columnNumber:21},this):e.jsxDEV(ve,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/StatsandLogs.tsx",lineNumber:66,columnNumber:21},this)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/StatsandLogs.tsx",lineNumber:35,columnNumber:13},this)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/StatsandLogs.tsx",lineNumber:18,columnNumber:17},this)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/StatsandLogs.tsx",lineNumber:18,columnNumber:9},this)}const ut=()=>{const[n,D]=o.useState(""),[d,c]=o.useState([]),[E,F]=o.useState([]),[u,P]=o.useState("Custom"),[f,A]=o.useState("Custom"),[C,S]=o.useState({}),[N,v]=o.useState(""),[L,T]=o.useState(""),[M,$]=o.useState(""),[h,U]=o.useState({pageIndex:0,pageSize:20}),[B,x]=o.useState(0),[q,p]=o.useState(!1),[V,te]=o.useState(!0);o.useEffect(()=>{K()},[]);const K=()=>{const t={clientId:W.getvalue("clientId")};O(k.postWithData("admin","recruiter/creditDetails",t).then(r=>{r.data.Success?(c(r.data.recruiterCreditDetails),F(r.data.recruiterCreditDetails)):y(r.data.Message?r.data.Message:"An error occurred while fetching credit details","error")}))},_=(t,r,a)=>{let i=d;const s=t.target.value;i=i.map(l=>({...l,[a]:l.recrId===r?parseInt(s)||"":l[a]})),c([...i])},G=t=>{const r=(t==null?void 0:t.length)>20?t.slice(0,20):t;return(t==null?void 0:t.length)>20?e.jsxDEV(Z,{title:t,children:e.jsxDEV("span",{children:[r,"..."]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:78,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:77,columnNumber:17},void 0):e.jsxDEV("span",{children:r},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:81,columnNumber:23},void 0)},ie=o.useMemo(()=>[{accessorKey:"name",header:"Name",Cell:({row:t})=>G(t.original.recrName)},{accessorKey:"email",header:"Email",Cell:({row:t})=>G(t.original.email)},{accessorKey:"emailUsed",header:"Email Used",Cell:({row:t})=>e.jsxDEV("span",{children:t.original.usedCreditCount},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:102,columnNumber:21},void 0),maxSize:60,size:50},{accessorKey:"phoneUsed",header:"Phone Used",Cell:({row:t})=>e.jsxDEV("span",{children:t.original.usedSmsCount},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:111,columnNumber:21},void 0),muiTableBodyCellProps:{sx:{width:"100px"}},size:50},{accessorKey:"emailAssigned",header:"Email Assigned",Cell:({row:t})=>{const r=t.getIsSelected();return e.jsxDEV("span",{children:e.jsxDEV(R,{fullWidth:!0,id:`creditCount-${t.original.recrId}`,name:`creditCount-${t.original.recrId}`,size:"small",type:"number",value:t.original.creditCount,slotProps:{input:{readOnly:["Unlimited","Equally"].includes(u)?!0:u==="Custom"?!r:!0}},onChange:a=>_(a,t.original.recrId,"creditCount"),sx:{width:"5em"}},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:122,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:121,columnNumber:28},void 0)},maxSize:60,size:50},{accessorKey:"phoneAssigned",header:"Phone Assigned",Cell:({row:t})=>{const r=t.getIsSelected();return e.jsxDEV("span",{children:e.jsxDEV(R,{fullWidth:!0,id:`smsCount-${t.original.recrId}`,name:`smsCount-${t.original.recrId}`,size:"small",type:"number",value:t.original.smsCount,slotProps:{input:{readOnly:["Unlimited","Equally"].includes(f)?!0:f==="Custom"?!r:!0}},onChange:a=>_(a,t.original.recrId,"smsCount"),sx:{width:"5em"}},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:148,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:147,columnNumber:28},void 0)},maxSize:60,size:50}],[u,f,d]),b=(t,r)=>{let a=E.find(i=>i.recrId===r)||null;return a&&a[t==="EMAIL"?"creditCount":"smsCount"]||0},re=t=>{var a;const r=t.target.value;if(P(r),["Unlimited","Equally"].includes(r)){let i=d;if((a=Object.keys(C))!=null&&a.length){const s=Object.entries(C).filter(([l,m])=>m).map(([l])=>parseInt(l));c(l=>l.map(m=>({...m,creditCount:s.includes(m.recrId)?r==="Unlimited"?-1:r==="Equally"?N||0:b("EMAIL",m.recrId):b("EMAIL",m.recrId)})))}else{const s=i.reduce((l,m)=>(l[m.recrId]=!0,l),{});S(l=>({...l,...s})),c(l=>l.map((m,ce)=>({...m,creditCount:r==="Unlimited"?-1:r==="Equally"?N||0:b("EMAIL",m.recrId)})))}p(!0)}else["Unlimited","Equally"].includes(f)||(S({}),p(!1)),c(i=>i.map(s=>({...s,creditCount:b("EMAIL",s.recrId)})))},se=t=>{var a;const r=t.target.value;if(A(r),["Unlimited","Equally"].includes(r)){let i=d;if((a=Object.keys(C))!=null&&a.length){const s=Object.entries(C).filter(([l,m])=>m).map(([l])=>parseInt(l));c(l=>l.map(m=>({...m,smsCount:s.includes(m.recrId)?r==="Unlimited"?-1:r==="Equally"?L||0:b("PHONE",m.recrId):b("PHONE",m.recrId)})))}else{const s=i.reduce((l,m)=>(l[m.recrId]=!0,l),{});S(l=>({...l,...s})),c(l=>l.map((m,ce)=>({...m,smsCount:r==="Unlimited"?-1:r==="Equally"?L||0:b("PHONE",m.recrId)})))}p(!0)}else["Unlimited","Equally"].includes(u)||(S({}),p(!1)),c(i=>i.map(s=>({...s,smsCount:b("PHONE",s.recrId)})))},ne=t=>{const r=t.target.value;v(r);const a=Object.entries(C).filter(([i,s])=>s).map(([i])=>parseInt(i));u==="Equally"&&c(i=>i.map(s=>({...s,creditCount:a.includes(s.recrId)?parseInt(r)||0:s.creditCount})))},ae=t=>{const r=t.target.value;T(r);const a=Object.entries(C).filter(([i,s])=>s).map(([i])=>parseInt(i));f==="Equally"&&c(i=>i.map(s=>({...s,smsCount:a.includes(s.recrId)?parseInt(r)||0:s.smsCount})))},le=async()=>{const t=Object.entries(C).filter(([i,s])=>s).map(([i])=>parseInt(i));if(u==="Custom"&&f==="Custom"&&t.length===0)return y("Select recruiters to assign credits","error"),!1;if(u==="Equally"&&!N)return y("Enter email credit value","error"),!1;if(f==="Equally"&&!L)return y("Enter phone credit value","error"),!1;const r=d.filter(i=>t.includes(i.recrId)).map(i=>({recrId:i.recrId,creditCount:i.creditCount,smsCount:i.smsCount})),a={clientId:W.getvalue("clientId"),recrId:W.getvalue("recrId"),recruiterCreditDetails:r};try{O(k.postWithData("admin","recruiter/creditsUpdate",a).then(i=>{i.data.Success?(y("Credits updated successfully!","success"),S({}),p(!1),P("Custom"),A("Custom"),v(""),T(""),D(""),K()):y(i.data.Message||"Failed to update credits","error")}))}catch(i){console.error("Error updating recruiter credits:",i),y("Something went wrong. Please try again.","error")}},oe=o.useMemo(()=>{var a;let t=((a=n==null?void 0:n.toLowerCase())==null?void 0:a.trim())||"";const r=d.filter(i=>i.recrName.toLowerCase().includes(t.toLowerCase()||"")||i.email.toLowerCase().includes(t.toLowerCase()||""));return x(r.length),r},[n,d]),me=()=>{c([...E]),S({}),P("Custom"),A("Custom"),v(""),T(""),D(""),p(!1),U({...h,pageIndex:0})};return e.jsxDEV("div",{id:"CreditLimit",children:[e.jsxDEV(j,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",className:"customCard pt-1 mb-2 mt-2",sx:{minHeight:"auto !important"},children:e.jsxDEV(g,{variant:"h6",className:"headerName",children:"Credit Assignment"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:449,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:441,columnNumber:13},void 0),e.jsxDEV(j,{container:!0,direction:"row",spacing:1,children:[e.jsxDEV(j,{size:V?9:12,children:e.jsxDEV(j,{container:!0,spacing:0,className:"customCard px-0 py-2 ",children:e.jsxDEV(j,{sx:{width:"calc(100%)"},children:e.jsxDEV("div",{className:"MRTableCustom pl-0 mt-1",children:[e.jsxDEV(z,{direction:"row",alignItems:"center",justifyContent:"space-between",spacing:1,className:"headerFormContainer",children:[e.jsxDEV(z,{direction:"row",alignItems:"center",spacing:0,children:[e.jsxDEV(R,{placeholder:"Search by name or email",size:"small",id:"Search",name:"Search",className:"creditSearchName mr-1",value:n,onChange:t=>{D(t.target.value)},slotProps:{input:{startAdornment:e.jsxDEV(Ne,{fontSize:"small",htmlColor:"#757575"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:470,columnNumber:69},void 0),endAdornment:e.jsxDEV(xe,{position:"end",disablePointerEvents:!n,children:e.jsxDEV(pe,{fontSize:"small",htmlColor:n?"#757575":"#ebebeb",sx:{cursor:"pointer"},onClick:()=>D("")},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:472,columnNumber:57},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:471,columnNumber:67},void 0)}}},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:460,columnNumber:41},void 0),e.jsxDEV(R,{sx:{width:"110px"},fullWidth:!0,label:"Assign Email Credits",name:"Assign-Email-Credits",id:"Assign-Email-Credits",size:"small",className:"mr-1",select:!0,placeholder:"Assign Email",value:u,onChange:re,children:[e.jsxDEV(Y,{value:"Custom",children:"Custom"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:490,columnNumber:45},void 0),e.jsxDEV(Y,{value:"Equally",children:"Equally"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:491,columnNumber:45},void 0),e.jsxDEV(Y,{value:"Unlimited",children:"Unlimited"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:492,columnNumber:45},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:477,columnNumber:41},void 0),u==="Equally"&&e.jsxDEV(R,{size:"small",placeholder:"Email Credits",label:"Email Credits",id:"Email Credits",name:"Email Credits",className:"mr-1",value:N,onChange:ne,sx:{width:"100px"},type:"number",fullWidth:!0},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:496,columnNumber:45},void 0),e.jsxDEV(R,{sx:{width:"110px"},fullWidth:!0,className:"selHeight mr-1",label:"Assign Phone Credits ",name:"Assign-Phone-Credits",id:"Assign-Phone-Credits",size:"small",select:!0,placeholder:"Assign Phone   ",value:f,onChange:se,children:[e.jsxDEV(Y,{value:"Custom",children:"Custom"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:523,columnNumber:45},void 0),e.jsxDEV(Y,{value:"Equally",children:"Equally"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:524,columnNumber:45},void 0),e.jsxDEV(Y,{value:"Unlimited",children:"Unlimited"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:525,columnNumber:45},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:510,columnNumber:41},void 0),f==="Equally"&&e.jsxDEV(R,{size:"small",placeholder:"Phone Credit Value",id:"Phone Credit Value",name:"Phone Credit Value",label:"Enter Phone Credit Value",className:"mr-1",value:L,onChange:ae,sx:{width:"100px"},type:"number",fullWidth:!0},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:529,columnNumber:45},void 0),e.jsxDEV(w,{variant:"contained",color:"primary",className:"mr-1",onClick:le,children:"Save"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:543,columnNumber:41},void 0),e.jsxDEV(w,{variant:"outlined",color:"secondary",sx:{textTransform:"none",height:"26px"},onClick:me,children:"Clear"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:551,columnNumber:41},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:459,columnNumber:37},void 0),e.jsxDEV(Z,{title:"Toggle Stats",children:e.jsxDEV(Ce,{size:"small",onClick:()=>te(t=>!t),children:e.jsxDEV(Ee,{className:`${V?"":"statsIconFlip"}`},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:561,columnNumber:114},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:561,columnNumber:41},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:560,columnNumber:37},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:458,columnNumber:33},void 0),e.jsxDEV(he,{columns:ie,data:oe,enableTopToolbar:!1,enableStickyHeader:!0,enableRowSelection:!0,initialState:{columnPinning:{left:["mrt-row-select","name"]},density:"compact",showGlobalFilter:!0},enableDensityToggle:!1,enableFullScreenToggle:!1,enableGlobalFilterModes:!0,columnResizeMode:"onChange",enablePagination:!0,state:{pagination:h,globalFilter:M,rowSelection:C},muiTableProps:{sx:{"& td, & th":{padding:{xs:"4px",sm:"8px"}}}},muiPaginationProps:{rowsPerPageOptions:[20],showLastButton:!1,SelectProps:{style:{display:"none"}}},renderBottomToolbarCustomActions:()=>e.jsxDEV(ye,{page:h.pageIndex,rowsPerPage:h.pageSize,rowCount:B,onChangePage:t=>U({...h,pageIndex:t,pageSize:h.pageSize})},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:598,columnNumber:41},void 0),onGlobalFilterChange:$,getRowId:t=>t.recrId,onRowSelectionChange:t=>{const r=t(C),a=Object.entries(r).filter(([i,s])=>s).map(([i])=>parseInt(i));c(i=>i.map(s=>({...s,creditCount:a.includes(s.recrId)?u==="Unlimited"?-1:u==="Equally"?N||0:b("EMAIL",s.recrId):b("EMAIL",s.recrId),smsCount:a.includes(s.recrId)?f==="Unlimited"?-1:f==="Equally"?L||0:b("PHONE",s.recrId):b("PHONE",s.recrId)}))),S({...r})},enableSelectAll:!0,muiSelectCheckboxProps:({row:t})=>({onChange:r=>{let a=d;if(t.id){let i={...C},s=d.findIndex(l=>l.recrId===t.id);r.target.checked?(a[s].creditCount=u==="Unlimited"?-1:u==="Custom"?b("EMAIL",a[s].recrId):N||0,a[s].smsCount=f==="Unlimited"?-1:f==="Custom"?b("PHONE",a[s].recrId):L||0,i[t.id]=r.target.checked):(i.hasOwnProperty(t.id)&&delete i[t.id],a[s].creditCount=b("EMAIL",a[s].recrId),a[s].smsCount=b("PHONE",a[s].recrId)),c([...a]),S(i)}}}),muiSelectAllCheckboxProps:{onChange:(t,r)=>{if(r){const a=d.reduce((i,s)=>(i[s.recrId]=!0,i),{});S(a)}else S({});p(r)},checked:q}},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:564,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:457,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:456,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:455,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:454,columnNumber:17},void 0),e.jsxDEV(j,{size:V?3:0,className:`${V?"":"d-none"}`,children:e.jsxDEV(Te,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:685,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:684,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:453,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:440,columnNumber:9},void 0)};export{ut as default};
