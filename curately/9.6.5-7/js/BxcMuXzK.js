import{e as W,j,r as i,k as e,O as m,C as I,B as D,L as s,A as b,V as l,W as p,T as V,S as U}from"./Cgppv_Sf.js";import{M as Y}from"./D8IKBRq0.js";import{C as w}from"./UMhRp_6f.js";import{A as P}from"./CMcHlfne.js";import{u as k}from"./CysGkNnQ.js";import{V as z}from"./CRJpcgJc.js";import{D as $}from"./B-98_CNj.js";import{A as B}from"./CAWvjt4G.js";import{T as x}from"./BxLAtHuG.js";import{C as H}from"./D6SqIoha.js";import{L as K}from"./CbbOXEJA.js";import{S as F}from"./8-7dSsDd.js";import{P as O}from"./SIGykQ8h.js";import{D as G}from"./BgpP-s9i.js";import"./BESjHuWm.js";import"./DYhLeBIs.js";import"./DaGbQO6h.js";import"./CtTUZ4Jr.js";import"./XPHitdj4.js";import"./ChUKxi90.js";import"./Bp2g836F.js";import"./6HgfybZm.js";import"./CW6dvan5.js";import"./CB9nuhLI.js";import"./Dho3ZFNS.js";import"./CagltWra.js";import"./DZd2l5Bl.js";import"./dZX7lgtO.js";import"./DxILc9AR.js";import"./DIGW6AYh.js";import"./BiLTbjOU.js";import"./BteIfgc7.js";import"./CbCF5Xps.js";import"./kx4FOAoQ.js";import"./BJCg17MG.js";const _=W(j.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"InsertLink"),q=({closeInvitePopup:R})=>{const[n,o]=i.useState([]),[u,d]=i.useState(""),[a,c]=i.useState(!1),[N,h]=i.useState(""),E=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),y=async t=>{try{await k.validate(t),d(""),h(""),A(t)}catch(r){r instanceof z&&h(r.message||"Invalid email format")}},S=t=>{o(n.filter(r=>r!==t))},A=t=>{c(!0),b.postWithData("admin","referralRecrAvailability",{recrId:s.getvalue("recrId"),clientId:s.getvalue("clientId"),email:t}).then(r=>{console.log(r.data),r.data.Success?v(t):l(r.data.Message?r.data.Message:"An error occured while validating the email.","error")})},v=async t=>{try{(await P.validateWorkEmail(t)).data.debounce.free_email==="false"?o([...n,t]):l("Please Enter Work Email.","error")}catch(r){return console.error("Error validating email:",r),!1}c(!1)},C=(t,r)=>{d(r),E(r)?g([r]):g([])},[M,g]=i.useState([]),T=()=>{n.length?p(b.postWithData("admin","sendRefferalEmail",{recrId:s.getvalue("recrId"),clientId:s.getvalue("clientId"),emailIds:n}).then(t=>{console.log(t.data),t.data.Success?(o([]),l("Referral sent successfully.","success"),R(!0)):l(t.data.Message?t.data.Message:"An error occured while Referring.","error")})):l("Please enter emails to Refer","error")};return e.jsxDEV("div",{id:"ReferMembers",children:[e.jsxDEV($,{children:e.jsxDEV(m,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:e.jsxDEV("span",{className:"addHeader",children:"Refer & Get 10 Credits"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:131,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:130,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:129,columnNumber:13},void 0),e.jsxDEV("div",{className:"refer-wrapper",children:[e.jsxDEV("p",{className:"refer-info",children:"Redeem your credits by subscribing to paid plan with advanced features & instant discount."},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:137,columnNumber:17},void 0),e.jsxDEV("div",{className:"input-wrapper",children:[e.jsxDEV(B,{multiple:!0,freeSolo:!0,value:n,onChange:(t,r)=>{if(r.length>n.length){const f=r[r.length-1];y(f)}else o(r)},options:M,inputValue:u,onInputChange:C,renderInput:t=>e.jsxDEV(x,{...t,label:"Add people using their emails",variant:"outlined",error:!!N,helperText:N,onKeyDown:r=>{r.key==="Enter"&&u&&(r.preventDefault(),y(u))}},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:154,columnNumber:29},void 0),renderTags:(t,r)=>t.map((f,L)=>e.jsxDEV(H,{variant:"outlined",label:f,...r({index:L}),onDelete:()=>S(f)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:166,columnNumber:29},void 0))},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:140,columnNumber:21},void 0),a&&e.jsxDEV(I,{className:"loaderIcon",size:20},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:169,columnNumber:35},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:139,columnNumber:17},void 0),e.jsxDEV(D,{color:"primary",variant:"contained",onClick:T,disabled:!n.length,className:"ml-3 my-3",children:"Refer people"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:172,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:136,columnNumber:13},void 0),e.jsxDEV(m,{className:"my-4 px-5 mx-4 pb-4",container:!0,size:12,children:[e.jsxDEV(m,{size:"auto",sx:{width:"calc(100% - 115px)"},children:e.jsxDEV(x,{variant:"outlined",disabled:!0,fullWidth:!0,size:"small",value:`${window.location.origin}${window.location.pathname}#/signin?referral=${s.getvalue("referralCode")}`},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:178,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:177,columnNumber:17},void 0),e.jsxDEV(m,{size:"auto",sx:{width:"75px"},children:e.jsxDEV(D,{variant:"outlined",size:"small",startIcon:e.jsxDEV(_,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:187,columnNumber:72},void 0),className:"cursor-pointer fs-16 ml-2",onClick:t=>{t.stopPropagation(),w.text(`${window.location.origin}${window.location.pathname}#/signin?referral=${s.getvalue("referralCode")}`,"Referral Link")},children:"Copy"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:187,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:186,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:176,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:128,columnNumber:9},void 0)},We=()=>{const[R,n]=i.useState([]),o=()=>{p(b.postWithData("admin","getReferredRecruiterDetails",{recrId:s.getvalue("recrId"),clientId:s.getvalue("clientId")}).then(a=>{a.data.referredRecruiterDetails&&n(a.data.referredRecruiterDetails||[])}))};i.useEffect(()=>{o()},[]);const u=i.useMemo(()=>[{accessorKey:"name",header:"Name",enableColumnPinning:!0,size:100},{accessorKey:"email",header:"Email",Cell:({row:a})=>e.jsxDEV("span",{className:"tt-lower",children:a.original.email},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:71,columnNumber:21},void 0),size:100},{accessorKey:"status",header:"Status",Cell:({row:a})=>e.jsxDEV("span",{className:`${a.original.status}`,children:[a.original.status==="Pending"?e.jsxDEV(O,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:82,columnNumber:33},void 0):a.original.status==="Accepted"?e.jsxDEV(G,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:85,columnNumber:37},void 0):null,e.jsxDEV("span",{className:"px-2",children:a.original.status},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:89,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:79,columnNumber:21},void 0)},{accessorKey:"referredDate",header:"Reffered Date",Cell:({row:a})=>e.jsxDEV("span",{children:a.original.referredDate&&K.ServerEDTToSystem(a.original.referredDate.substring(0,19),"yyyy-MM-dd hh:mm:ss","MM/dd/yyyy hh:mm a")},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:97,columnNumber:21},void 0),size:100},{accessorKey:"invitedDate",header:"",Cell:({row:a})=>e.jsxDEV("span",{children:a.original.status==="Pending"?e.jsxDEV(D,{variant:"outlined",color:"primary",size:"small",onClick:()=>d(a.original.email),children:"Re-invite"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:112,columnNumber:33},void 0):e.jsxDEV(e.Fragment,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:114,columnNumber:33},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:109,columnNumber:21},void 0),size:100}],[]),d=a=>{a?p(b.postWithData("admin","sendRefferalEmail",{recrId:s.getvalue("recrId"),clientId:s.getvalue("clientId"),emailIds:[a]}).then(c=>{console.log(c.data),c.data.Success?l("Referral sent successfully.","success"):l(c.data.Message?c.data.Message:"An error occured while Referring.","error")})):l("no email found to Invite","error")};return e.jsxDEV("div",{id:"ReferMember",children:[e.jsxDEV(m,{container:!0,direction:"row",className:"customCard px-4 py-2 mt-4",justifyContent:"space-between",alignItems:"center",display:"flex",sx:{minHeight:"auto !important"},children:[e.jsxDEV(V,{variant:"h6",className:"headerName",children:"Refer"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:147,columnNumber:13},void 0),e.jsxDEV(U,{direction:"row",className:"btn-container"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:150,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:146,columnNumber:9},void 0),e.jsxDEV(m,{container:!0,direction:"row",className:"py-2 mt-4",justifyContent:"flex-start",alignItems:"center",display:"flex",sx:{minHeight:"auto !important",width:730},children:e.jsxDEV(q,{closeInvitePopup:a=>{a&&o()}},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:155,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:154,columnNumber:9},void 0),e.jsxDEV("div",{className:"MRTableCustom  pl-0 pl-4",children:e.jsxDEV(Y,{columns:u,enableRowSelection:!1,data:R,enablePinning:!0,enableStickyHeader:!0,initialState:{columnPinning:{left:["name"]},density:"comfortable",showGlobalFilter:!1},enableDensityToggle:!1,enableFullScreenToggle:!0,enableGlobalFilter:!1,enablePagination:!1,enableBottomToolbar:!1,enableTopToolbar:!1,columnResizeMode:"onChange",getRowId:a=>a.email,icons:{ArrowDownwardIcon:a=>e.jsxDEV(F,{...a},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:187,columnNumber:56},void 0)}},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:164,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:163,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:145,columnNumber:12},void 0)};export{We as default};
