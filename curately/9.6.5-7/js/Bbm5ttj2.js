import{r as l,W as m,A as o,L as r,k as a,B as d,b1 as S,V as n,O as D,T as x,S as A,D as E,n as I,o as R}from"./Cgppv_Sf.js";import{M as C}from"./D8IKBRq0.js";import{I as L}from"./DGa0xRrN.js";import{L as W}from"./CbbOXEJA.js";import{S as j}from"./8-7dSsDd.js";import{P as U}from"./SIGykQ8h.js";import{D as V}from"./BgpP-s9i.js";import{T as Y}from"./BxLAtHuG.js";import{M as P}from"./ChUKxi90.js";import{D as z}from"./B-98_CNj.js";import"./BESjHuWm.js";import"./DYhLeBIs.js";import"./DaGbQO6h.js";import"./CtTUZ4Jr.js";import"./XPHitdj4.js";import"./D6SqIoha.js";import"./Bp2g836F.js";import"./6HgfybZm.js";import"./CW6dvan5.js";import"./CB9nuhLI.js";import"./Dho3ZFNS.js";import"./CagltWra.js";import"./DZd2l5Bl.js";import"./dZX7lgtO.js";import"./DxILc9AR.js";import"./DIGW6AYh.js";import"./BiLTbjOU.js";import"./CAWvjt4G.js";import"./CbCF5Xps.js";import"./BteIfgc7.js";import"./CMcHlfne.js";import"./CysGkNnQ.js";import"./CRJpcgJc.js";import"./C7pzRmL5.js";import"./BJCg17MG.js";import"./kx4FOAoQ.js";const he=()=>{const[T,g]=l.useState([]),[b,c]=l.useState(!1),[f,p]=l.useState([]);l.useEffect(()=>{N(),u()},[]);const N=()=>{m(o.postWithData("admin","getRoleList",{recrId:r.getvalue("recrId"),clientId:r.getvalue("clientId")}).then(e=>{const t=e.data;t.Success&&p([...t.list])}))},y=(e,t,s)=>{m(o.postWithData("admin","updateInviteRecruiterRole",{recrId:s,clientId:r.getvalue("clientId"),roleId:e.target.value,invitedId:t}).then(i=>{i.data.Success?(n("Recuriter Role updated successfully.","success"),u()):n(i.data.Message?i.data.Message:"Error retriving Roles data","error")}))},u=()=>{m(o.postWithData("admin","getInvitedRecruiterDetails",{recrId:r.getvalue("recrId"),clientId:r.getvalue("clientId")}).then(e=>{e.data.Success&&g(e.data.invitedRecruiterDetails||[])}))},h=l.useMemo(()=>[{accessorKey:"name",header:"Name",enableColumnPinning:!0,size:100},{accessorKey:"email",header:"Email",Cell:({row:e})=>a.jsxDEV("span",{className:"tt-lower",children:e.original.email},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:121,columnNumber:36},void 0),size:100},{accessorKey:"status",header:"Status",Cell:({row:e})=>a.jsxDEV("span",{className:`${e.original.status}`,children:[e.original.status==="Pending"?a.jsxDEV(U,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:131,columnNumber:33},void 0):e.original.status==="Accepted"?a.jsxDEV(V,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:134,columnNumber:37},void 0):null,a.jsxDEV("span",{className:"px-2",children:e.original.status},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:138,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:128,columnNumber:21},void 0)},{accessorKey:"invitedDate",header:"Invited Date",Cell:({row:e})=>a.jsxDEV("span",{children:e.original.invitedDate&&W.ServerEDTToSystem(e.original.invitedDate.substring(0,19),"yyyy-MM-dd hh:mm:ss","MM/dd/yyyy hh:mm a")},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:146,columnNumber:21},void 0),size:100},{accessorKey:"roleId",header:"Role",Cell:({row:e})=>{var t,s;return a.jsxDEV("span",{children:e.original.status==="Accepted"?a.jsxDEV(Y,{fullWidth:!0,className:"mt-1",size:"small",variant:"outlined",select:!0,id:`role-${e.original.invitedId}`,value:(t=e.original)==null?void 0:t.roleId,onChange:i=>y(i,e.original.invitedId,e.original.recrId),children:f.map(i=>a.jsxDEV(P,{value:i.roleId,children:i.roleName},i.roleId,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:174,columnNumber:41},void 0))},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:161,columnNumber:29},void 0):(s=e.original)==null?void 0:s.roleName},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:159,columnNumber:21},void 0)},size:80},{accessorKey:"recrId",header:"",Cell:({row:e})=>{let t=e.original.status==="Accepted"&&e.original.recrId?e.original.recrId:0;return a.jsxDEV("span",{children:[e.original.status==="Pending"?a.jsxDEV(d,{variant:"outlined",color:"primary",size:"small",onClick:()=>M(e.original.email),children:"Re-invite"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:194,columnNumber:33},void 0):null,a.jsxDEV(d,{variant:"outlined",color:"error",size:"small",className:"ml-2",onClick:()=>{S(`Are you sure you want to delete ${e.original.name?e.original.name:e.original.email}?`,()=>{v(e.original.invitedId,t)},"warning")},children:"Remove"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:198,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:191,columnNumber:29},void 0)},size:100}],[f]),v=(e,t)=>{m(o.postWithData("admin","deleteRecruiterFromInvite",{recrId:r.getvalue("recrId"),clientId:r.getvalue("clientId"),invitedRecrId:t,invitedId:e}).then(s=>{console.log(s.data),s.data.Success?(n("Team Member has been removed successfully.","success"),u()):n(s.data.Message?s.data.Message:"An error occured while removing.","error")}))},M=e=>{e?m(o.postWithData("admin","sendInviteEmail",{recrId:r.getvalue("recrId"),clientId:r.getvalue("clientId"),emailIds:[e]}).then(t=>{console.log(t.data),t.data.Success?n("Invitation sent successfully.","success"):n(t.data.Message?t.data.Message:"An error occured while inviting.","error")})):n("no email found to Invite","error")};return a.jsxDEV("div",{id:"TeamMembers",children:[a.jsxDEV(D,{container:!0,direction:"row",className:"customCard px-4 py-2 mt-4",justifyContent:"space-between",alignItems:"center",display:"flex",sx:{minHeight:"auto !important"},children:[a.jsxDEV(x,{variant:"h6",className:"headerName",children:"Team Members"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:260,columnNumber:13},void 0),a.jsxDEV(A,{direction:"row",className:"btn-container",children:!r.getvalue("invitedBy")&&r.getvalue("paymentType")!==1?a.jsxDEV(d,{variant:"contained",className:"btnPrimary mr-3",size:"small",onClick:()=>{c(!0)},children:"Invite Members"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:266,columnNumber:25},void 0):null},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:263,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:259,columnNumber:9},void 0),a.jsxDEV("div",{className:"MRTableCustom  pl-0 ",children:a.jsxDEV(C,{columns:h,enableRowSelection:!1,data:T,enablePinning:!0,enableStickyHeader:!0,initialState:{columnPinning:{left:["name"]},density:"comfortable",showGlobalFilter:!1},enableDensityToggle:!1,enableFullScreenToggle:!0,enableGlobalFilter:!1,enablePagination:!1,enableBottomToolbar:!1,enableTopToolbar:!1,columnResizeMode:"onChange",getRowId:e=>e.email,icons:{ArrowDownwardIcon:e=>a.jsxDEV(j,{...e},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:297,columnNumber:56},void 0)}},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:274,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:273,columnNumber:9},void 0),b?a.jsxDEV(E,{open:b,onClose:()=>c(!1),children:[a.jsxDEV(z,{children:a.jsxDEV(D,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[a.jsxDEV("span",{className:"addHeader",children:"Invite Team Members"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:307,columnNumber:29},void 0),a.jsxDEV(I,{onClick:()=>c(!1)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:310,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:306,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:305,columnNumber:21},void 0),a.jsxDEV(R,{sx:{minWidth:500},className:"pt-4",children:a.jsxDEV(L,{closeInvitePopup:e=>{e&&u(),c(!1)}},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:315,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:314,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:304,columnNumber:17},void 0):null]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:258,columnNumber:12},void 0)};export{he as default};
