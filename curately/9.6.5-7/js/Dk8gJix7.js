import{r as d,L as i,W as p,A as u,V as m,k as a,D as b,T as h,o as V,S as v,B as N}from"./Cgppv_Sf.js";import{D as x}from"./B-98_CNj.js";import{T as y}from"./BxLAtHuG.js";import"./XPHitdj4.js";const I=()=>{const[n,o]=d.useState(""),[t,l]=d.useState({cameratagId:"",label:""}),[A,c]=d.useState(!1);d.useEffect(()=>(o(`${window.location.protocol==="https:"?"https://app.curately.ai":"http://52.41.18.83:41088"}/Accuick_API/CameraTagAccountManager.html?recrId=${i.getvalue("recrId")}`),window.addEventListener("message",r),()=>window.removeEventListener("message",r)),[]);const r=e=>{if(e.data.addCameraTagVideo){let D={cameratagId:e.data.videoUrl,label:e.data.title,createdBy:i.getvalue("recrId"),clientId:i.getvalue("clientId")};l({cameratagId:e.data.videoUrl,label:e.data.title}),o(""),p(u.postWithData("admin","savevideo",D).then(s=>{console.log(s.data),s.data.Success?(c(!1),m("Video added successfully.","success"),o(`${window.location.protocol==="https:"?"https://app.curately.ai":"http://52.41.18.83:41088"}/Accuick_API/CameraTagAccountManager.html?recrId=${i.getvalue("recrId")}`),l({cameratagId:"",label:""})):(c(!0),m(s.data.Message,"error"))}))}},f=()=>{[null,void 0,"",0].includes(t.label)||r({data:{addCameraTagVideo:!0,title:t.label,videoUrl:t.cameratagId,action:""}})},g=e=>{u.saveAuditLog(e)};return d.useEffect(()=>{g(4296)},[]),a.jsxDEV("div",{id:"AddVideo",className:"p-4",children:[n?a.jsxDEV("iframe",{src:n,title:"Recording Video"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/AddVideo/AddVideo.tsx",lineNumber:98,columnNumber:21},void 0):null,a.jsxDEV(b,{open:A,maxWidth:"xs",fullWidth:!0,children:[a.jsxDEV(x,{children:a.jsxDEV(h,{variant:"h6",children:"Add Video"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/AddVideo/AddVideo.tsx",lineNumber:122,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/AddVideo/AddVideo.tsx",lineNumber:121,columnNumber:17},void 0),a.jsxDEV(V,{children:a.jsxDEV(v,{alignItems:"flex-end",spacing:2,py:1.5,children:[a.jsxDEV(y,{fullWidth:!0,size:"small",label:"Video Title",placeholder:"Enter video title",name:"add_video",value:t.label,onChange:e=>l({...t,label:e.target.value})},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/AddVideo/AddVideo.tsx",lineNumber:126,columnNumber:25},void 0),a.jsxDEV(N,{variant:"contained",onClick:f,children:"Update"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/AddVideo/AddVideo.tsx",lineNumber:133,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/AddVideo/AddVideo.tsx",lineNumber:125,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/AddVideo/AddVideo.tsx",lineNumber:124,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/AddVideo/AddVideo.tsx",lineNumber:120,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/AddVideo/AddVideo.tsx",lineNumber:95,columnNumber:9},void 0)};export{I as default};
