import{r as d,L as f,W as v,A as C,V as x,k as e,D as le,O as n,B as F,o as te,l as se,I as P,n as re,S as B,T as ne,b1 as oe}from"./Cgppv_Sf.js";import{u as ie}from"./C-Jq_Y4P.js";import{c as K,a as b,f as $}from"./CRJpcgJc.js";import{E}from"./CVtbaTfk.js";import{A as ce}from"./jMXFmExr.js";import{M as H}from"./Dau3miA7.js";import{D as ue}from"./B-98_CNj.js";import{D as de}from"./BiLTbjOU.js";import{T as y}from"./BxLAtHuG.js";import{M as u}from"./ChUKxi90.js";import{C as me}from"./B7NoFbgU.js";import{l as Q}from"./kx4FOAoQ.js";import{M as fe}from"./D8IKBRq0.js";import{L as Ne}from"./CbbOXEJA.js";import{E as be}from"./CtTUZ4Jr.js";import{D as Ae}from"./DYDlcIIt.js";import{C as De}from"./CAYZvuI-.js";import{S as ye}from"./8-7dSsDd.js";import{T as J}from"./CagltWra.js";import"./XPHitdj4.js";import"./rYcqsWUw.js";import"./CtuCFr0K.js";import"./CAWvjt4G.js";import"./D6SqIoha.js";import"./CbCF5Xps.js";import"./BJCg17MG.js";import"./Bp2g836F.js";import"./BESjHuWm.js";import"./DYhLeBIs.js";import"./DaGbQO6h.js";import"./6HgfybZm.js";import"./CW6dvan5.js";import"./CB9nuhLI.js";import"./Dho3ZFNS.js";import"./DZd2l5Bl.js";import"./dZX7lgtO.js";import"./DxILc9AR.js";import"./DIGW6AYh.js";import"./BteIfgc7.js";const he=({open:M,handleClose:T,add:g,goalData:o,goalsMetricsList:R})=>{var z,G;const L=()=>{let t=[...a.values.goalAlerts];t.push({alertType:"",alertFrequency:"",alertNotificationReceipt:"",alertSpecificUsers:[],alertSpecificUsersName:[]}),a.setFieldValue("goalAlerts",t)},U=t=>{const r=[...a.values.goalAlerts].filter((i,A)=>A!==t);a.setFieldValue("goalAlerts",r)},[D,h]=d.useState(!1),V=t=>{var l;if((l=o==null?void 0:o.goalAssignees)!=null&&l.length){const r=o.goalAssignees.reduce((i,A,Y)=>(i.recrId+=`${Y===0?"":","}${A.recrId}`,i.recrName+=`${Y===0?"":","}${A.recrName}`,i),{recrId:"",recrName:""});return t==="RECRID"?r.recrId:r.recrName}else return""},p=(t,l)=>{if(l!=null&&l.length){const r=l.reduce((i,A)=>(i.recrId.push(`${A.recrId}`),i.recrName.push(`${A.recrName}`),i),{recrId:[],recrName:[]});return t==="RECRID"?r.recrId:r.recrName}else return[]},w=o?{goalId:o.goalId||"",goalName:o.goalName||"",assignTo:V("RECRID"),timeFrame:o.timeFrame||"",metric:o.metric||"",metricId:o.metricId||"",targetType:o.targetType||"",targetValue:o.targetValue||"",assignRecruiterName:V("RECRNAME"),clientId:f.getvalue("clientId"),recrId:f.getvalue("recrId"),goalAlerts:(z=o==null?void 0:o.goalAlerts)!=null&&z.length?(G=o.goalAlerts)==null?void 0:G.map(t=>({alertType:t.alertType||"",alertFrequency:t.alertFrequency||"",alertNotificationReceipt:t.alertNotificationReceipt||"",alertSpecificUsers:p("RECRID",t.specificUsers),alertSpecificUsersName:p("RECRNAME",t.specificUsers)})):[{alertType:"",alertFrequency:"",alertNotificationReceipt:"",alertSpecificUsers:[],alertSpecificUsersName:[]}]}:{goalId:"",goalName:"",assignTo:"",timeFrame:"",metric:"",metricId:"",targetType:"",targetValue:"",assignRecruiterName:"",goalAlerts:[{alertType:"",alertFrequency:"",alertNotificationReceipt:"",alertSpecificUsers:"",alertSpecificUsersName:[]}],clientId:f.getvalue("clientId"),recrId:f.getvalue("recrId")},k=K().shape({goalName:b(),assignTo:b(),timeFrame:b(),metric:b(),metricId:b(),targetType:b(),targetValue:b(),goalAlerts:$().of(K().shape({alertType:b(),alertFrequency:b(),alertNotificationReceipt:b(),alertSpecificUsers:$(),alertSpecificUsersName:$()}))}),a=ie({initialValues:w,validationSchema:k,onSubmit:()=>{W()}}),W=()=>{o.goalId?(h(!0),j(o.goalId)):(h(!0),j())},S=(t,l,r)=>{let i=[...a.values.goalAlerts];l&&r&&(i[t][l]=r,a.setFieldValue("goalAlerts",i))},j=t=>{if(h(!0),a.isValid){let l={clientId:f.getvalue("clientId"),recrId:f.getvalue("recrId"),goalName:a.values.goalName,assignTo:a.values.assignTo.split(","),timeFrame:a.values.timeFrame,metric:a.values.metric,targetType:a.values.targetType,targetValue:a.values.targetValue,goalAlerts:a.values.goalAlerts.map(({alertSpecificUsersName:r,...i})=>({...i})),metricId:Number(a.values.metricId)};t&&(l={...l,goalId:t}),v(C.postWithData("admin","saveOrUpdateGoal",l).then(r=>{r.data.Success?(x(`Goal has been ${t?"updated":"saved"} successfully.`,"success"),a.resetForm(),T(!0)):x(r.data.Message?r.data.Message:"An error occured","error")}))}else x("Please fill all fields.","error")};return e.jsxDEV("div",{children:e.jsxDEV(le,{maxWidth:"md",fullWidth:!0,open:M,className:"AddUserModal",id:"AddGoal",children:[e.jsxDEV(ue,{className:"py-2",children:e.jsxDEV(n,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV("span",{className:"addHeader",children:[g?"Add":"Edit"," Goal"]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:252,columnNumber:25},void 0),e.jsxDEV("div",{children:e.jsxDEV(n,{container:!0,direction:"row",justifyContent:"end",alignItems:"center",children:[e.jsxDEV(F,{variant:"outlined",type:"button",color:"secondary",className:"mr-2",onClick:()=>T(!1),children:"Cancel"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:262,columnNumber:33},void 0),e.jsxDEV(F,{variant:"contained",type:"button",color:"primary",onClick:W,children:g?"Save":"Update"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:268,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:256,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:255,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:246,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:245,columnNumber:17},void 0),e.jsxDEV(de,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:280,columnNumber:17},void 0),e.jsxDEV(te,{children:e.jsxDEV("div",{children:e.jsxDEV("form",{onSubmit:a.handleSubmit,children:[e.jsxDEV(n,{container:!0,className:"mb-0",children:e.jsxDEV(n,{size:12,className:"mt-0",children:[e.jsxDEV("label",{className:"inputLabel",children:"Goal Name"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:286,columnNumber:37},void 0),e.jsxDEV(y,{fullWidth:!0,className:"mt-1",id:"goalName",name:"goalName",variant:"outlined",type:"text",size:"small",value:a.values.goalName,onChange:a.handleChange},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:287,columnNumber:37},void 0),e.jsxDEV(E,{formikObj:a,name:"goalName",isFormSubmitted:D},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:296,columnNumber:37},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:285,columnNumber:33},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:284,columnNumber:29},void 0),e.jsxDEV(n,{container:!0,className:"mb-0",direction:"row",justifyContent:"start",alignItems:"flex-start",children:[e.jsxDEV(n,{size:6,className:"pr-2",children:[e.jsxDEV("label",{className:"inputLabel",children:"Assign To"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:301,columnNumber:37},void 0),e.jsxDEV(H,{id:"recruiter",handleChange:(t,l)=>{a.setValues({...a.values,assignRecruiterName:l,assignTo:t})},valuePassed:a.values.assignTo?{label:a.values.assignRecruiterName,id:a.values.assignTo}:{},isMultiple:!0,width:"100%",type:"id",placeholder:""},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:302,columnNumber:37},void 0),e.jsxDEV(E,{formikObj:a,name:"assignTo",isFormSubmitted:D},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:318,columnNumber:37},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:300,columnNumber:33},void 0),e.jsxDEV(n,{size:6,className:"pr-2 mt-1",children:[e.jsxDEV(se,{display:"flex",alignItems:"center",children:e.jsxDEV("label",{className:"inputLabel",children:"Time Frame"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:323,columnNumber:41},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:322,columnNumber:37},void 0),e.jsxDEV(y,{fullWidth:!0,id:"timeFrame",name:"timeFrame",variant:"outlined",type:"text",size:"small",select:!0,value:a.values.timeFrame,onChange:a.handleChange,children:[e.jsxDEV(u,{value:"0"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:342,columnNumber:41},void 0),e.jsxDEV(u,{value:"Weekly",children:"Weekly"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:343,columnNumber:41},void 0),e.jsxDEV(u,{value:"Monthly",children:"Monthly"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:344,columnNumber:41},void 0),e.jsxDEV(u,{value:"Quarterly",children:"Quarterly"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:345,columnNumber:41},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:331,columnNumber:37},void 0),e.jsxDEV(E,{formikObj:a,name:"timeFrame",isFormSubmitted:D},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:347,columnNumber:37},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:321,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:299,columnNumber:29},void 0),e.jsxDEV(n,{container:!0,className:"mb-0",children:e.jsxDEV(n,{size:12,className:"mt-0",children:[e.jsxDEV("label",{className:"inputLabel",children:"Metric"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:352,columnNumber:37},void 0),e.jsxDEV(y,{fullWidth:!0,className:"mt-0",id:"metric",name:"metric",variant:"outlined",type:"text",size:"small",select:!0,value:a.values.metric,onChange:t=>{const l=t.target.value,r=R.find(i=>i.metric===l);a.setFieldValue("metric",l),a.setFieldValue("metricId",r?r.metricId:"")},children:R.map(t=>e.jsxDEV(u,{value:t.metric,children:t.metric},t.metricId,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:372,columnNumber:45},void 0))},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:353,columnNumber:37},void 0),e.jsxDEV(E,{formikObj:a,name:"metric",isFormSubmitted:D},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:377,columnNumber:37},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:351,columnNumber:33},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:350,columnNumber:29},void 0),e.jsxDEV(n,{container:!0,className:"mt-0 mb-0",direction:"row",spacing:1,justifyContent:"start",alignItems:"flex-start",children:[e.jsxDEV(n,{size:3,className:"mt-1",children:e.jsxDEV(n,{container:!0,direction:"row",justifyContent:"start",alignItems:"center",children:e.jsxDEV("label",{className:"inputLabel mt-3",children:"    Target Value   "},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:383,columnNumber:41},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:382,columnNumber:37},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:381,columnNumber:33},void 0),e.jsxDEV(n,{size:4,className:"mt-1",children:e.jsxDEV(n,{container:!0,direction:"row",justifyContent:"start",alignItems:"center",children:[e.jsxDEV(y,{size:"small",fullWidth:!0,id:"targetType",name:"targetType",select:!0,className:"selectLabel",value:a.values.targetType,onChange:a.handleChange,children:[e.jsxDEV(u,{value:"0"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:400,columnNumber:45},void 0),e.jsxDEV(u,{value:"Equal To",children:"Equal To"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:401,columnNumber:45},void 0),e.jsxDEV(u,{value:"Greater Than",children:"Greater Than"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:402,columnNumber:45},void 0),e.jsxDEV(u,{value:"Less Than",children:"Less Than"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:403,columnNumber:45},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:388,columnNumber:41},void 0),e.jsxDEV(E,{formikObj:a,name:"targetType",isFormSubmitted:D},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:405,columnNumber:41},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:387,columnNumber:37},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:386,columnNumber:33},void 0),e.jsxDEV(n,{size:5,className:"mt-1",children:e.jsxDEV(n,{container:!0,direction:"row",justifyContent:"start",alignItems:"center",children:[e.jsxDEV(y,{size:"small",fullWidth:!0,id:"targetValue",name:"targetValue",sx:{maxWidth:"250px"},value:a.values.targetValue,onChange:a.handleChange},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:410,columnNumber:41},void 0),e.jsxDEV(E,{formikObj:a,name:"targetValue",isFormSubmitted:D},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:419,columnNumber:41},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:409,columnNumber:37},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:408,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:380,columnNumber:29},void 0),a.values.goalAlerts.map((t,l)=>e.jsxDEV("div",{className:"mt-0",children:e.jsxDEV(n,{size:12,className:"mt-0",children:e.jsxDEV(me,{className:"customCard1 mt-2",children:e.jsxDEV("div",{children:[e.jsxDEV(n,{container:!0,direction:"row",className:"mb-1",children:[e.jsxDEV(n,{size:6,className:"mt-1",children:[e.jsxDEV("label",{className:"inputLabel",children:"Alert Type"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:437,columnNumber:57},void 0),e.jsxDEV(y,{fullWidth:!0,className:"mt-1",id:`alertType${l}`,name:`alertType${l}`,variant:"outlined",type:"text",size:"small",select:!0,value:t.alertType,onChange:r=>S(l,"alertType",r.target.value),children:[e.jsxDEV(u,{value:"Goal Progress",children:"Goal Progress"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:449,columnNumber:61},void 0),e.jsxDEV(u,{value:"Goal Met",children:"Goal Met"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:450,columnNumber:61},void 0),e.jsxDEV(u,{value:"Goal off Track",children:"Goal off Track"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:451,columnNumber:61},void 0)]},`al.${l}.alertType`,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:438,columnNumber:57},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:436,columnNumber:53},void 0),e.jsxDEV(n,{size:5,className:"mt-1 ml-1",children:[e.jsxDEV("label",{className:"inputLabel",children:"Alert Frequency"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:457,columnNumber:57},void 0),e.jsxDEV(y,{fullWidth:!0,className:"mt-1",id:`alertFrequency${l}`,name:`alertFrequency${l}`,variant:"outlined",type:"text",size:"small",select:!0,sx:{minWidth:"98px"},value:t.alertFrequency,onChange:r=>S(l,"alertFrequency",r.target.value),children:[e.jsxDEV(u,{value:"Daily",children:"Daily"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:470,columnNumber:61},void 0),e.jsxDEV(u,{value:"Weekly",children:"Weekly"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:471,columnNumber:61},void 0),e.jsxDEV(u,{value:"Monthly",children:"Monthly"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:472,columnNumber:61},void 0)]},`al.${l}.alertFrequency`,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:458,columnNumber:57},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:456,columnNumber:53},void 0),e.jsxDEV(n,{className:"mt-1 ml-1",children:a.values.goalAlerts.length>1?e.jsxDEV(P,{onClick:()=>U(l),className:"closeIcon",children:e.jsxDEV(re,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:481,columnNumber:65},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:480,columnNumber:61},void 0):null},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:477,columnNumber:53},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:435,columnNumber:49},void 0),e.jsxDEV(n,{container:!0,direction:"row",children:[e.jsxDEV(n,{size:6,className:"mt-1",children:[e.jsxDEV("label",{className:"inputLabel",children:"Notification Receipt"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:491,columnNumber:57},void 0),e.jsxDEV(y,{fullWidth:!0,className:"mt-1",id:`alertNotificationReceipt${l}`,name:`alertNotificationReceipt${l}`,variant:"outlined",type:"text",size:"small",select:!0,sx:{minWidth:"200px"},value:t.alertNotificationReceipt,onChange:r=>S(l,"alertNotificationReceipt",r.target.value),children:[e.jsxDEV(u,{value:"Team Members assigned to the goals",children:"Team Members assigned to the goals"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:504,columnNumber:61},void 0),e.jsxDEV(u,{value:"Everyone",children:"Everyone"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:505,columnNumber:61},void 0),e.jsxDEV(u,{value:"Only Me",children:"Only Me"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:506,columnNumber:61},void 0),e.jsxDEV(u,{value:"Specific Users",children:"Specific Users"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:507,columnNumber:61},void 0)]},`al.${l}.alertNotificationReceipt`,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:492,columnNumber:57},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:490,columnNumber:53},void 0),t.alertNotificationReceipt==="Specific Users"&&e.jsxDEV(n,{size:5,className:"mt-1 ml-1",children:[e.jsxDEV("label",{className:"inputLabel",children:"Specific Users"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:512,columnNumber:62},void 0),e.jsxDEV(H,{id:`goalAlerts[${l}].alertSpecificUsers`,className:"mt-1",handleChange:(r,i)=>{console.log({id:r,name:i},"test.."),a.setFieldValue(`goalAlerts[${l}].alertSpecificUsers`,r.split(",")),a.setFieldValue(`goalAlerts[${l}].alertSpecificUsersName`,i.split(","))},valuePassed:Array.isArray(a.values.goalAlerts[l].alertSpecificUsers)?{label:a.values.goalAlerts[l].alertSpecificUsersName.join(),id:a.values.goalAlerts[l].alertSpecificUsers.join()}:a.values.goalAlerts[l].alertSpecificUsers?{label:a.values.goalAlerts[l].alertSpecificUsersName,id:a.values.goalAlerts[l].alertSpecificUsers}:{},isMultiple:!0,width:"100%",type:"id",placeholder:"Select Specific Users"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:513,columnNumber:61},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:511,columnNumber:57},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:489,columnNumber:49},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:427,columnNumber:45},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:426,columnNumber:41},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:425,columnNumber:37},void 0)},l,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:424,columnNumber:33},void 0)),e.jsxDEV(n,{container:!0,className:"mb-0",justifyContent:"flex-end",children:e.jsxDEV(F,{className:"mr-5",color:"primary",size:"small",startIcon:e.jsxDEV(ce,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:546,columnNumber:98},void 0),onClick:L,children:"Add Alert"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:546,columnNumber:33},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:545,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:283,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:282,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:281,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:243,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:242,columnNumber:9},void 0)},ra=()=>{const M=f.checkSettings(110002)===5||f.checkSettings(110002)===6,T=f.checkSettings(110002)===6,[g,o]=d.useState(!1);d.useState(!1);const[R,L]=d.useState(!1),[U,D]=d.useState([]);d.useState();const[h,V]=d.useState(""),[p,w]=d.useState([]),[k,a]=d.useState([]),[W,S]=d.useState({goalName:"",timeFrame:"",metric:"",target:"",targetValue:"",alert:[{alertType:"",alertFrequency:"",notificationReceipt:""}]}),[j,z]=d.useState({}),[G,t]=d.useState({pageIndex:0,pageSize:10}),l=s=>{r(s)},r=s=>{v(C.postWithData("admin","getGaolById",{goalId:s,clientId:f.getvalue("clientId")}).then(c=>{S(c.data.goalDetail),L(!0),o(!0)}))},i=()=>{S({goalName:"",timeFrame:"",metric:"",target:"",targetValue:"",alert:[{alertType:"",alertFrequency:"",notificationReceipt:""}]}),o(!0),L(!1)},A=s=>{o(!1),s&&I()};d.useEffect(()=>{const s=U.filter(c=>{var m;const N=h||"";return(m=c.goalName)==null?void 0:m.toLowerCase().includes(N.toLowerCase())});w(s)},[h,U]);let Y={clientId:f.getvalue("clientId")};const I=d.useCallback(Q.debounce(()=>{v(C.postWithData("admin","getGoalList",Y).then(s=>{var N;let c=s.data.goalDetailsList;for(let m=0;m<c.length;m++)((N=c[m].createdDate)==null?void 0:N.length)>19&&(c[m].createdDate=Ne.ServerEDTToSystem(c[m].createdDate.substring(0,19),"yyyy-MM-dd hh:mm:ss","MM/dd/yyyy hh:mm a"));D(s.data.goalDetailsList)}))},400),[]),_=Q.debounce(I,300);d.useEffect(()=>{!g&&_(),ee()},[]);const X=(s,c)=>{oe(`Are you sure you want to delete ${c} Goal ?`,()=>{Z(s),I()})},Z=s=>{v(C.postWithData("admin","deleteGoal",{clientId:f.getvalue("clientId"),goalId:s,recrId:f.getvalue("recrId")}).then(c=>{c.data.Success?(x("Goal has been deleted successfully.","success"),I()):x(c.data.Message?c.data.Message:"An error occured while deleting","error")}).catch(c=>{var N,m,q,O;x((m=(N=c.response)==null?void 0:N.data)!=null&&m.Message?(O=(q=c.response)==null?void 0:q.data)==null?void 0:O.Message:"An error occured while deleting","error")}))},ee=()=>{v(C.getCall("admin","getGoalMetrics/0").then(s=>{var c,N;if((c=s==null?void 0:s.data)!=null&&c.Success){let m=((N=s==null?void 0:s.data)==null?void 0:N.goalMetrics)||[];a([...m])}}).catch(s=>{console.error("Error fetching candidate status list",s)}))},ae=d.useMemo(()=>[{accessorKey:"goalName",header:"GoalName",enableColumnPinning:!0,size:200},{accessorKey:"metric",header:"Metric Name",size:250},{accessorKey:"createdDate",header:"Created On",size:150},{accessorKey:"Actions",header:"Actions",enableSorting:!1,Cell:({row:s})=>e.jsxDEV(B,{children:e.jsxDEV(B,{direction:"row",children:[M?e.jsxDEV(J,{title:"Edit",placement:"top",color:"primary",children:e.jsxDEV(P,{onClick:()=>{l(s.original.goalId)},children:e.jsxDEV(be,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:289,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:284,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:283,columnNumber:17},void 0):null,T?e.jsxDEV(J,{title:"Delete",placement:"top",color:"primary",children:e.jsxDEV(P,{onClick:()=>{X(s.original.goalId,s.original.goalName)},children:e.jsxDEV(Ae,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:303,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:295,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:294,columnNumber:17},void 0):null]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:281,columnNumber:13},void 0)},s.original.goalId,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:280,columnNumber:11},void 0)}],[]);return e.jsxDEV("div",{children:e.jsxDEV("div",{className:"pt-3 px-3 ",id:"Goals",children:[e.jsxDEV(n,{container:!0,direction:"row",className:"customCard px-4 py-2",justifyContent:"space-between",alignItems:"center",display:"flex",sx:{minHeight:"auto !important"},children:[e.jsxDEV(ne,{variant:"h6",className:"header",children:"Goals"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:328,columnNumber:11},void 0),e.jsxDEV("div",{children:e.jsxDEV(n,{container:!0,direction:"row",justifyContent:"end",alignItems:"center",children:e.jsxDEV(F,{variant:"contained",color:"primary",size:"small",className:"ml-2",onClick:()=>i(),children:"Create Goal"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:348,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:332,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:331,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:319,columnNumber:9},void 0),e.jsxDEV(n,{container:!0,className:"customCard p-0 filterExpand-grid",children:e.jsxDEV(n,{sx:{width:"calc(100%)"},children:e.jsxDEV("div",{className:"MRTableCustom  pl-0 ",children:e.jsxDEV(fe,{columns:ae,data:p,state:{rowSelection:j,pagination:G,globalFilter:h},enableStickyHeader:!0,initialState:{columnPinning:{left:["mrt-row-select","goalName"]},density:"compact",showGlobalFilter:!0},muiPaginationProps:{rowsPerPageOptions:[10],showFirstButton:!1,showLastButton:!1,SelectProps:{style:{display:"none"}}},enablePagination:!0,renderBottomToolbarCustomActions:()=>e.jsxDEV(De,{page:G.pageIndex,rowsPerPage:10,rowCount:p.length,onChangePage:s=>{t({...G,pageIndex:s,pageSize:10})},showCount:!1},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:387,columnNumber:19},void 0),onGlobalFilterChange:V,enableFilters:!1,enableGlobalFilterModes:!0,columnResizeMode:"onChange",onPaginationChange:t,getRowId:s=>s.goalId,icons:{ArrowDownwardIcon:s=>e.jsxDEV(ye,{...s},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:410,columnNumber:21},void 0)},rowCount:p.length},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:363,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:362,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:361,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:360,columnNumber:9},void 0),g?e.jsxDEV(he,{open:g,handleClose:A,goalData:W,add:!R,goalsMetricsList:k},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:419,columnNumber:11},void 0):null]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:318,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:317,columnNumber:5},void 0)};export{ra as default};
