import{r as l,k as e,D as z,O as f,B as C,o as _,T as u,S as R,I as S,L as c,W as v,A as N,l as U,b1 as Z,V as ee}from"./Cgppv_Sf.js";import{A as ae}from"./DEbMl7Ub.js";import{u as le}from"./C-Jq_Y4P.js";import{c as ie,a as V}from"./CRJpcgJc.js";import{I as te}from"./BNdv2g09.js";import{D as ne}from"./CMCYaaxo.js";import{D as G,l as re}from"./kx4FOAoQ.js";import{C as se,L as oe}from"./BhXpxMSW.js";import{E as ce}from"./CUgjgqL5.js";import{A as me}from"./CcI9Nv8J.js";import{b as ue}from"./D8IKBRq0.js";import{S as J}from"./BJotH55m.js";import{D as K}from"./B-98_CNj.js";import{D as Q}from"./BiLTbjOU.js";import{e as de,P as De}from"./XPHitdj4.js";import{e as B,a as F}from"./CtTUZ4Jr.js";import{A as Ee}from"./jMXFmExr.js";import{L as $}from"./XFArKoHE.js";import{M as fe}from"./BDkPjbZd.js";import{S as ge}from"./CKoxVNum.js";import{C as X}from"./B7NoFbgU.js";import{P as ye}from"./SIGykQ8h.js";import{D as Ne}from"./BgpP-s9i.js";import{M as be}from"./DaGbQO6h.js";import{C as pe}from"./CicR4FO4.js";import{T as Ae}from"./CagltWra.js";import"./BJCg17MG.js";import"./BxLAtHuG.js";import"./Bp2g836F.js";import"./RfaWrcPY.js";import"./DI3-CCgY.js";import"./ChUKxi90.js";import"./D6SqIoha.js";import"./CVtbaTfk.js";import"./Dau3miA7.js";import"./rYcqsWUw.js";import"./CtuCFr0K.js";import"./CAWvjt4G.js";import"./CbCF5Xps.js";import"./B_ivY0h5.js";import"./CVn_imtJ.js";import"./BUeBsI1N.js";import"./6HgfybZm.js";import"./D64fhI8f.js";import"./BDDXo8MR.js";import"./C7pzRmL5.js";import"./dZX7lgtO.js";import"./BESjHuWm.js";import"./DYhLeBIs.js";import"./CW6dvan5.js";import"./CB9nuhLI.js";import"./Dho3ZFNS.js";import"./DZd2l5Bl.js";import"./DxILc9AR.js";import"./DIGW6AYh.js";import"./BteIfgc7.js";import"./DUrHk-MO.js";import"./FVe6lIVR.js";import"./CPvg8iC8.js";const xe=({emailData:s})=>{const[o,r]=l.useState(!0),d=D=>{const i=document.createElement("span");return i.style.display="none",i.innerHTML=D,i.remove(),i.textContent||i.innerText};return e.jsxDEV("div",{className:"email-block-wrapper",children:[e.jsxDEV(u,{variant:"h3",className:"email-sub",children:s.subject},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:36,columnNumber:13},void 0),e.jsxDEV(R,{direction:"row",children:[e.jsxDEV("div",{className:"icon",children:s.type==="OUT"?e.jsxDEV(me,{className:"out"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:39,columnNumber:49},void 0):e.jsxDEV(ue,{className:"in"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:39,columnNumber:87},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:38,columnNumber:17},void 0),e.jsxDEV("div",{className:"email-wrapper",children:[e.jsxDEV(R,{component:"div",className:"email-header",justifyContent:"space-between",onClick:()=>r(!o),direction:"column",children:[e.jsxDEV(R,{direction:"row",justifyContent:"space-between",alignItems:"baseline",children:[e.jsxDEV("div",{children:[e.jsxDEV(R,{direction:"row",children:[e.jsxDEV(u,{variant:"h4",className:"name",children:s.recrName},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:52,columnNumber:37},void 0),o&&e.jsxDEV(u,{className:"e-id",children:"<"+s.emailId+">"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:53,columnNumber:50},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:51,columnNumber:33},void 0),!o&&e.jsxDEV(u,{className:"e-id",children:"to "},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:55,columnNumber:47},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:50,columnNumber:29},void 0),e.jsxDEV("div",{className:"date",children:[G.fromISO(s.date.replace(" ","T")).toFormat("MM/dd/yyyy hh:mm:ss a"),e.jsxDEV(S,{children:e.jsxDEV(J,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:60,columnNumber:37},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:59,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:57,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:49,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-wrap",children:o&&e.jsxDEV(u,{className:"body-text",children:d(s.body)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:65,columnNumber:42},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:64,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:42,columnNumber:21},void 0),!o&&e.jsxDEV("div",{className:"email-body",dangerouslySetInnerHTML:{__html:s.body}},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:68,columnNumber:35},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:41,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:37,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:35,columnNumber:9},void 0)},he=({dialogOpen:s,onClose:o,accountId:r})=>{const[d,D]=l.useState([]),i=g=>{const L={emailId:1,clientId:c.getvalue("clientId"),recrId:c.getvalue("recrId")};v(N.postWithData("admin","emailLog",L).then(t=>{t.data.Message==="Success"&&D(t.data.emailslog)}).catch(t=>console.error("Failed to fetch email preview:",t)))};return l.useEffect(()=>{i()},[r]),e.jsxDEV(z,{open:!!s,onClose:o,maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(K,{className:"py-2",children:e.jsxDEV(f,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV("span",{className:"addHeader",children:"Email Details"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:111,columnNumber:21},void 0),e.jsxDEV("div",{children:e.jsxDEV(f,{container:!0,direction:"row",justifyContent:"end",alignItems:"center",children:e.jsxDEV(C,{variant:"outlined",type:"button",color:"secondary",className:"mr-2",onClick:o,children:"Close"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:114,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:113,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:112,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:104,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:103,columnNumber:13},void 0),e.jsxDEV(Q,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:119,columnNumber:13},void 0),e.jsxDEV(_,{className:"p-1",sx:{minHeight:"300px"},children:d.map(g=>e.jsxDEV(xe,{emailData:g},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:122,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:120,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:102,columnNumber:9},void 0)},Ce=({dialogOpen:s,onClose:o,accountData:r})=>{const[d,D]=l.useState(!1),[i,g]=l.useState([]),[L,t]=l.useState(!1),[p,Y]=l.useState(!0),[E,A]=l.useState(1),[b,I]=l.useState(0),[T,x]=l.useState(!1),[w,j]=l.useState(""),k=()=>{t(!0)},O=()=>{g(i),Y(!0)},M=()=>{A(a=>Math.max(a-1,1))},P=()=>{A(a=>a<b?a+1:a)},h=a=>{j(a),x(!0)},W=()=>{const a={accountId:r.account,page:E,pageSize:10};v(N.getByParams(193,"/Curately/EmailEngine/getMessages.jsp",a).then(m=>{m.data&&m.data.messages&&(g(m.data.messages),I(m.data.pages))}).catch(m=>console.error("Failed to fetch inbox emails:",m)))};return l.useEffect(()=>{W()},[r.account,E]),e.jsxDEV(z,{open:!!s,onClose:o,maxWidth:"xl",fullWidth:!0,id:"curatelyMailDialog",children:[e.jsxDEV(K,{className:"py-2",children:e.jsxDEV(f,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV("span",{className:"addHeader",children:"Curately Mail"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:121,columnNumber:21},void 0),e.jsxDEV("div",{children:e.jsxDEV(f,{container:!0,direction:"row",justifyContent:"end",alignItems:"center",children:e.jsxDEV(C,{variant:"outlined",type:"button",color:"secondary",className:"mr-2",onClick:o,children:"Close"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:124,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:123,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:122,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:114,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:113,columnNumber:13},void 0),e.jsxDEV(Q,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:129,columnNumber:13},void 0),e.jsxDEV(_,{children:e.jsxDEV("div",{className:"emaillist-wrap",children:[e.jsxDEV("div",{className:"sidebar",children:e.jsxDEV(de,{component:"nav",children:[e.jsxDEV(B,{className:"compose",onClick:()=>D(!0),sx:{cursor:"pointer",backgroundColor:"#757ce8",color:"white",borderRadius:"5px"},children:[e.jsxDEV(F,{children:e.jsxDEV(Ee,{style:{color:"white"}},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:137,columnNumber:37},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:136,columnNumber:33},void 0),e.jsxDEV($,{primary:"Compose"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:139,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:135,columnNumber:29},void 0),e.jsxDEV(B,{sx:{cursor:"pointer"},onClick:O,children:[e.jsxDEV(F,{children:e.jsxDEV(fe,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:143,columnNumber:37},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:142,columnNumber:33},void 0),e.jsxDEV($,{primary:"Inbox"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:145,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:141,columnNumber:29},void 0),e.jsxDEV(B,{sx:{cursor:"pointer"},onClick:k,children:[e.jsxDEV(F,{children:e.jsxDEV(ge,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:149,columnNumber:37},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:148,columnNumber:33},void 0),e.jsxDEV($,{primary:"Sent"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:151,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:147,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:134,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:133,columnNumber:21},void 0),e.jsxDEV(f,{children:[e.jsxDEV(U,{style:{marginLeft:"240px",padding:"0px",overflow:"auto",height:"calc(100vh - 210px)",width:"calc(100vw - 340px)"},children:p&&(i==null?void 0:i.length)>0?i.map(a=>{var m;return e.jsxDEV(e.Fragment,{children:e.jsxDEV(X,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 16px",backgroundColor:a.unseen?"#ffffff":"#f0f0f0",boxShadow:"none",borderBottom:"1px solid #e0e0e0","&:hover":{backgroundColor:"#f7f7f7"},color:"#202124",fontWeight:"bold",marginBottom:"8px"},children:[e.jsxDEV(U,{sx:{display:"flex",alignItems:"center",flex:1},children:[e.jsxDEV(S,{size:"large",sx:{marginRight:"16px"},children:e.jsxDEV(se,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:184,columnNumber:53},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:183,columnNumber:49},void 0),e.jsxDEV(S,{children:e.jsxDEV(J,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:187,columnNumber:53},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:186,columnNumber:49},void 0),e.jsxDEV(S,{children:e.jsxDEV(oe,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:190,columnNumber:53},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:189,columnNumber:49},void 0),e.jsxDEV(u,{variant:"body1",className:"emailTitle",component:"span",onClick:()=>h(a.emailId),children:(m=a==null?void 0:a.from)==null?void 0:m.name},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:192,columnNumber:49},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:182,columnNumber:45},void 0),e.jsxDEV(U,{sx:{flex:2,textAlign:"left",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:e.jsxDEV(u,{variant:"subtitle1",onClick:()=>h(a.emailId),className:"c-pointer",children:a.subject},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:198,columnNumber:49},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:197,columnNumber:45},void 0),e.jsxDEV(u,{variant:"caption",sx:{flex:0,whiteSpace:"nowrap"},children:G.fromISO(a.date).toFormat("MM/dd/yyyy hh:mm:ss a")},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:201,columnNumber:45},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:167,columnNumber:41},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:166,columnNumber:37},void 0)}):null},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:156,columnNumber:25},void 0),p&&(i==null?void 0:i.length)>0&&e.jsxDEV(U,{sx:{display:"flex",justifyContent:"center",pt:2,height:"43px"},children:[e.jsxDEV(C,{className:"btnSecondary",onClick:M,disabled:E<=1,variant:"outlined",color:"secondary",children:"Previous"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:213,columnNumber:33},void 0),e.jsxDEV(u,{sx:{margin:"0 15px"},children:["Page ",E," of ",b]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:214,columnNumber:33},void 0),e.jsxDEV(C,{className:"btnSecondary",onClick:P,disabled:E>=b,variant:"outlined",type:"button",color:"secondary",children:"Next"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:215,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:212,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:155,columnNumber:21},void 0),e.jsxDEV(f,{children:[d&&e.jsxDEV(ce,{dialogOpen:d,onClose:()=>D(!1),name:"",emailId:"",fromEmail:r.email?r.email:"",fromName:r.name?r.name:r.account?r.account:"",curatelyMail:!0,emailAccountId:r.account},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:220,columnNumber:42},void 0),T&&e.jsxDEV(he,{dialogOpen:T,onClose:()=>x(!1),accountId:r.account},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:231,columnNumber:46},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:219,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:131,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:130,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:112,columnNumber:9},void 0)},Ma=()=>{var h,W,a,m,q,H;const[s,o]=l.useState(!1),[r,d]=l.useState({email:"",name:"",state:"",type:"",account:""}),D=ie({account:V().required("Required"),name:V().required("Required"),email:V().required("Required").email("Invalid email format"),redirectUrl:V()}),i=le({initialValues:{account:`${c.getvalue("clientId")}_${c.getvalue("recrId")}`,name:c.getvalue("recrFullName"),email:"",redirectUrl:window.location.href},validationSchema:D,onSubmit:()=>{},validateOnMount:!0}),g=()=>{v(N.getByParams(193,"/Curately/EmailEngine/createAccount.jsp",{clientId:c.getvalue("clientId"),...i.values}).then(n=>{if(console.log(n.data),n.data.url){let y=n.data.url.replace("http://54.187.123.62:3000","https://emailengine.curately.ai");te.check(y)&&(window.location.href=y)}}))},L=n=>{v(N.getByParams(193,"/Curately/EmailEngine/deleteAccount.jsp",{clientId:c.getvalue("clientId"),accountId:n}).then(y=>{console.log(y.data),y.data.deleted?(localStorage.setItem("emailEngineAccountActive","0"),b(!1),A()):ee("An error occured while deleting account.","error")}))},[t,p]=l.useState([]),[Y,E]=l.useState(!1),A=l.useCallback(re.debounce(()=>{v(N.getByParams(193,"/Curately/EmailEngine/getAccounts.jsp",{clientId:c.getvalue("clientId"),recrId:c.getvalue("recrId")}).then(n=>{E(!1),n.data.account===`${c.getvalue("clientId")}_${c.getvalue("recrId")}`?(p([n.data]),Number(localStorage.getItem("emailEngineAccountActive"))||(localStorage.setItem("emailEngineAccountActive","1"),b(!0))):p([])}))},400),[]),b=n=>{N.postWithData("admin","updateRecrEmailEngineAccountStatus",{clientId:c.getvalue("clientId"),recrId:c.getvalue("recrId"),emailEngineAccountCreated:n}).then(y=>{console.log(y.data)})},I=n=>{d(n),console.log(n),o(!0)};l.useEffect(()=>{A(),E(!0)},[]);const T=()=>{i.resetForm(),g()},x=n=>{N.saveAuditLog(n)};l.useEffect(()=>{x(4298)},[]);const[w,j]=l.useState(null),k=n=>{j(n.currentTarget)},O=()=>{j(null)},M=!!w,P=M?"simple-popover":void 0;return e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"p-3 ",id:"EmailAccountsList",children:[e.jsxDEV(f,{direction:"row",className:"customCard px-4 py-2",justifyContent:"space-between",alignItems:"center",display:"flex",sx:{minHeight:"auto !important"},children:e.jsxDEV(u,{variant:"h6",className:"header",children:"Email Account"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:325,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:317,columnNumber:17},void 0),Y?null:e.jsxDEV(f,{container:!0,children:t.length!==0?e.jsxDEV(X,{className:"emailAccount-card",children:e.jsxDEV(pe,{children:[e.jsxDEV("div",{className:"action",children:[e.jsxDEV(S,{onClick:k,children:e.jsxDEV(be,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:346,columnNumber:37},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:345,columnNumber:33},void 0),e.jsxDEV(De,{id:P,open:M,anchorEl:w,onClose:O,className:"accountActionPopover",anchorOrigin:{vertical:"bottom",horizontal:"left"},children:e.jsxDEV(Ae,{title:"Delete",children:e.jsxDEV(ne,{sx:{color:"red"},className:"fs-18 cursor-pointer c-red",onClick:()=>{Z(`Are you sure you want to delete Account -  ${t[0].name} ?`,()=>{L(t[0].account)},"warning")}},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:360,columnNumber:41},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:359,columnNumber:37},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:348,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:344,columnNumber:29},void 0),e.jsxDEV("h4",{className:"hightLightTd",onClick:()=>I(t[0]),children:(h=t[0])==null?void 0:h.name},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:370,columnNumber:29},void 0),e.jsxDEV("p",{children:(W=t[0])==null?void 0:W.email},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:373,columnNumber:29},void 0),e.jsxDEV("p",{children:e.jsxDEV("span",{className:"textCapital",children:(a=t[0])==null?void 0:a.type},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:374,columnNumber:32},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:374,columnNumber:29},void 0),e.jsxDEV("p",{children:e.jsxDEV("span",{className:"status-btn "+(((m=t[0])==null?void 0:m.state)==="connected"?"connected":"pending"),children:[((q=t[0])==null?void 0:q.state)==="connected"?e.jsxDEV(Ne,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:379,columnNumber:45},void 0):e.jsxDEV(ye,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:381,columnNumber:45},void 0),e.jsxDEV("span",{className:"px-2",children:(H=t[0])==null?void 0:H.state},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:383,columnNumber:37},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:376,columnNumber:33},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:375,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:343,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:342,columnNumber:54},void 0):e.jsxDEV(C,{className:"user",variant:"outlined",size:"large",onClick:()=>{T(),x(4299)},startIcon:e.jsxDEV(ae,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:390,columnNumber:40},void 0),children:"Connect Account"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:389,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:341,columnNumber:35},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:316,columnNumber:13},void 0),s&&e.jsxDEV(Ce,{dialogOpen:s,onClose:()=>o(!1),accountData:r},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:513,columnNumber:32},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:315,columnNumber:9},void 0)};export{Ma as default};
