import{e as Ue,j as Ye,r as f,k as e,O as D,B as P,T as Pe,I as ve,D as lr,n as Me,o as or,U as tr,W as te,A as M,V as L,L as I,al as _e,S as je,b1 as Se,C as ar}from"./Cgppv_Sf.js";import{W as nr,S as sr,a as Q,P as ir,D as ur}from"./hl1lTXc-.js";import{M as cr}from"./D8IKBRq0.js";import{Q as dr,a as mr,u as fr}from"./RcWhSZLq.js";import{S as br}from"./8-7dSsDd.js";import{C as ke}from"./BTMlLxsk.js";import{E as pr}from"./CdCY4wuj.js";import{E as Nr}from"./CUgjgqL5.js";import{A as gr}from"./DEbMl7Ub.js";import{B as hr,E as Dr,e as Ce,a as Ve,b as yr,c as Sr}from"./CtTUZ4Jr.js";import{R as Wr}from"./DVdO0Krd.js";import{u as xr,F as wr,a as Ar,z as Er}from"./C-Jq_Y4P.js";import{c as Te,f as Ie,a as H,i as vr,d as jr}from"./CRJpcgJc.js";import{E as fe}from"./CVtbaTfk.js";import{m as Fe}from"./rYcqsWUw.js";import{T as kr}from"./CkN_1jYv.js";import{M as Be}from"./Dau3miA7.js";import{D as Cr}from"./B-98_CNj.js";import{D as Re}from"./BiLTbjOU.js";import{T as Vr}from"./C-VMvMKD.js";import{T as Je}from"./BAcuJNx9.js";import{T as J,C as Tr}from"./BxLAtHuG.js";import{M as S}from"./ChUKxi90.js";import{V as Ir}from"./BywBrP9g.js";import{M as Fr}from"./CB9nuhLI.js";import{M as We}from"./XPHitdj4.js";import{V as Rr}from"./Cwk2pgKd.js";import{M as Jr}from"./PyTvx8hA.js";import{S as Lr}from"./DOrKn708.js";import{L as Le,B as Ur}from"./XFArKoHE.js";import{T as ye}from"./CagltWra.js";import{D as Yr}from"./B8i2ItYi.js";import"./kx4FOAoQ.js";import"./BJCg17MG.js";import"./Bp2g836F.js";import"./LUHSuvEi.js";import"./BFeG3Rrm.js";import"./BJotH55m.js";import"./BkKnc3pH.js";import"./FVe6lIVR.js";import"./DfZvsVaa.js";import"./CB9QYnGm.js";import"./C7pzRmL5.js";import"./dZX7lgtO.js";import"./oe9WjlWR.js";import"./BGveyHVg.js";import"./CAWvjt4G.js";import"./D6SqIoha.js";import"./CbCF5Xps.js";import"./BESjHuWm.js";import"./BP4ZMwX4.js";import"./C148XJoK.js";import"./BDDXo8MR.js";import"./B93O5liC.js";import"./DIGW6AYh.js";import"./BfS1khEl.js";import"./Dz7xv0gs.js";import"./CfKtW7o3.js";import"./D-cgBsUJ.js";import"./D_15zRVo.js";import"./DKC21gSL.js";import"./CkGdyBwG.js";import"./B7NoFbgU.js";import"./6HgfybZm.js";import"./CMCYaaxo.js";import"./CVn_imtJ.js";import"./B_ivY0h5.js";import"./CbbOXEJA.js";import"./gltQ0rpT.js";import"./6vuVcGup.js";import"./DfUMYGn5.js";import"./DYhLeBIs.js";import"./DaGbQO6h.js";import"./CW6dvan5.js";import"./Dho3ZFNS.js";import"./DZd2l5Bl.js";import"./DxILc9AR.js";import"./BteIfgc7.js";import"./RfaWrcPY.js";import"./DI3-CCgY.js";import"./BUeBsI1N.js";import"./D64fhI8f.js";import"./jMXFmExr.js";import"./CtuCFr0K.js";import"./rv0X_E0P.js";import"./CIF9obRo.js";import"./BTJXnY9n.js";import"./BwODXlAG.js";import"./Cph3grji.js";import"./BhLB-J02.js";import"./DpxQD_8Z.js";import"./BNdv2g09.js";import"./BKUcwd0Z.js";import"./DThR_4yw.js";import"./CRgVoItN.js";import"./CMcHlfne.js";import"./DiQ5_FKt.js";import"./DYpVgzu1.js";import"./Jw20iAvk.js";import"./CykLBdg1.js";import"./CTm9rAjf.js";import"./CicR4FO4.js";import"./CrXtTJmX.js";import"./DUrHk-MO.js";import"./CPvg8iC8.js";const Pr=Ue(Ye.jsx("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDownOutlined"),Mr=Ue(Ye.jsx("path",{d:"m6 18 8.5-6L6 6zM16 6v12h2V6z"}),"SkipNext"),_r=({stagesList:c,currentStageId:R,passedStageData:p={},workflowData:C,sendCandIds:V})=>{const[O,v]=f.useState(!1),[k,G]=f.useState(!1),[X,Z]=f.useState(0),ae=f.useRef(!0),u=f.useRef([{name:"",id:"",json:[],assessments:[],states:[],questionSelectedId:"",questionType:"",questionValues:[],questionArray:[]}]),w=f.useRef([{stageTypeId:"",name:"",title:"",stageId:""}]),ie=[{name:"State",id:"1"},{name:"Zipcode",id:"2"}],_=["Attended","Not Attended","Not Registered"],ne=["Selected","Not Selected"],b=f.useRef({}),z=f.useRef(!1),T=f.useRef(-1),ee=Te().shape({json:Ie().of(Te().shape({stageId:H().required("Please select Stage"),fieldValue:H().required("Please enter Field Value"),compare:H().required("Please select a value."),condition:H().required("Please enter Conditional Value"),compareValue:vr(o=>Array.isArray(o)?Ie().of(H()):H()),isShown:jr()})),filterId:H(),recrIds:H(),recrNames:H()}),[h,B]=f.useState(p.filterId?JSON.parse(p.json).json:[]),l=xr({initialValues:p.filterId?{json:JSON.parse(p.json).json,filterId:p.filterId,recrIds:p.recrIds,recrNames:p.recrNames}:{json:[],filterId:"0",recrIds:"",recrNames:""},validationSchema:ee,onSubmit:()=>{G(!0)}}),N=(o,r)=>{if(o){if([...w.current].findIndex(d=>d.stageId===o)!==-1){let d=b.current[Number(o)],g=[...l.values.json];g[r].stageId=o,g[r].fieldValue=d==="8"?"Webinar":"Scheduling",g[r].fieldType="radio",l.setFieldValue("json",g)}W(o,r,!1)}},W=(o,r,a)=>{if(o){if([...w.current].findIndex(g=>g.stageId===o)!==-1){let g=b.current[Number(o)];if(g==="12"||g==="3")te(M.getByParams(193,"Curately/Workflow/workflow_filter_stages_data.jsp",{stageId:o,stageTypeId:g}).then(j=>{var ce,Y;if(g==="12")if(j.data.assessments&&j.data.assessments.length){let n=j.data.assessments;for(let s=0;s<n.length;s++)if(n[s].assessmentsId==="JB-0WE9SVBRK")n[s].assessmentType="TTWordsPerMinute",n[s].assessmentsId="JB-0WE9SVBRK&&TTWordsPerMinute";else if(n[s].assessmentsId==="JB-AAJAZ4K91")n[s].assessmentType="Excel16Percentile",n[s].assessmentsId="JB-AAJAZ4K91&&Excel16Percentile";else if(n[s].assessmentsId==="JB-GHBP3ZY6N")n[s].assessmentType="Word16Percentile",n[s].assessmentsId="JB-GHBP3ZY6N&&Word16Percentile";else if(n[s].assessmentsId==="JB-HTELNQ8LF"){if(n[s].assessmentType!=="EPPPercentMatch"){n[s].assessmentsId="JB-HTELNQ8LF&&GAMEPercentile",n[s].assessmentType="GAMEPercentile";let y={...n[s]};y.assessmentType="EPPPercentMatch",y.assessmentsId="JB-HTELNQ8LF&&EPPPercentMatch",n.splice(s+1,0,y)}}else n[s].assessmentsId==="JB-TS406IM8D"?(n[s].assessmentsId="JB-TS406IM8D&&TenKeyAccuracy",n[s].assessmentType="TenKeyAccuracy"):n[s].assessmentsId==="JB-XDXQ65RS1"&&(n[s].assessmentsId="JB-XDXQ65RS1&&CLIKRanking",n[s].assessmentType="CLIKRanking");u.current[r]={...u.current[r],assessments:n,questionSelectedId:"",questionType:"",questionValues:[],questionArray:[]}}else L("No Assessments are assigned to this Stage.","error");else if(g==="3"&&j.data.formName&&j.data.formId){let n=JSON.parse(j.data.json).components;if(JSON.parse(j.data.json).curately)for(let s=0;s<n.length;s++){if(n[s].name=n[s].id,n[s].Type=n[s].inputType,n[s].choices)for(let y=0;y<n[s].choices.length;y++)typeof n[s].choices[y]=="string"||n[s].choices[y]instanceof String?n[s].choices[y]={name:n[s].choices[y],value:n[s].choices[y]}:n[s].choices[y]&&n[s].choices[y].value&&(n[s].choices[y].name=n[s].choices[y].value,n[s].choices[y].value=n[s].choices[y].id);if(n[s].Type==="dropdown"){let y=[];if(n[s].options)for(let K=0;K<n[s].options.length;K++)(typeof n[s].options[K]=="string"||n[s].options[K]instanceof String)&&y.push({name:n[s].options[K],value:n[s].options[K]});n[s].choices=y}}else for(let s=0;s<n.length;s++)n[s].Type==="radio"?n[s].choices=n[s]&&n[s].Settings&&n[s].Settings[4]&&n[s].Settings[4].Possiblevalue?(ce=n[s].Settings[4])==null?void 0:ce.Possiblevalue:[]:n[s].Type==="dropdown"&&(n[s].choices=n[s]&&n[s].Settings&&n[s].Settings[3]&&n[s].Settings[3].Possiblevalue?(Y=n[s].Settings[3])==null?void 0:Y.Possiblevalue:[]);u.current[r]={...u.current[r],name:j.data.formName,id:j.data.formId,json:n,questionSelectedId:"",questionType:"",questionValues:[],questionArray:[]}}if(p.json){let n=JSON.parse(p.json).json;r===n.length-1&&v(!0)}setTimeout(()=>{a&&se(r,!1,"")},500)}));else if(g==="1"){if(u.current[r]={...u.current[r],states:[...ie],questionSelectedId:"",questionType:"",questionValues:[],questionArray:[]},p.json){let j=JSON.parse(p.json).json;r===j.length-1&&v(!0)}setTimeout(()=>{a&&se(r,!1,"")},500)}else if(g==="8"||g==="9"){if(u.current[r]={...u.current[r],states:[],questionSelectedId:"",questionType:"",questionValues:[],questionArray:[]},p.json){let j=JSON.parse(p.json).json;r===j.length-1&&v(!0)}setTimeout(()=>{a&&se(r,!1,"")},500)}}}else{let i=JSON.parse(p.json).json;r===i.length-1&&v(!0)}},F=()=>{C.workflowId&&te(M.getByParams(193,"Curately/Workflow/workflow_filter_stages_candidates.jsp",{workflowId:C.workflowId}).then(o=>{if(o.data.stages&&o.data.stages.length){if(w.current=o.data.stages.filter(r=>r.stageTypeId!=="1"),b.current=o.data.stages.reduce((r,a)=>Object.assign(r,{[a.stageId]:a.stageTypeId}),{}),!p.filterId&&p.filterId!=="0")v(!0);else if(p.json){let r=JSON.parse(p.json).json;for(let a=0;a<r.length;a++)W(r[a].stageId,a,!0);r.length||v(!0)}}else L("No Stages found on this Workflow to create Filters","error")}))},re=()=>{let o=[...l.values.json];o.push({stageId:"",fieldValue:"",compare:"",condition:"&&",compareValue:"",fieldType:"",isShown:!0}),u.current.push({name:"",id:"",json:[],assessments:[],states:[],questionSelectedId:"",questionType:"",questionValues:[],questionArray:[]}),l.setFieldValue("json",o)},U=o=>{let r=[...l.values.json];r.splice(o,1),T.current=o,l.setFieldValue("json",r)},ue=(o,r,a)=>{if(r)if(a==="stageId"){let i=w.current.find(d=>d.stageId===r);return i&&i.title?i.title:i&&i.name?i.name:""}else if(a==="stages"){let i=c.find(d=>d.stageId===r);return i&&i.title?i.title:i&&i.name?i.name:""}else if(a==="fieldValue"&&u.current&&u.current[o]&&l.values.json&&l.values.json[o]){if(b.current[Number(l.values.json[o].stageId)]==="1")if(u.current[o].states){let i=u.current[o].states.find(d=>d.id===r);return i&&(i!=null&&i.name)?i==null?void 0:i.name:""}else return"";if(b.current[Number(l.values.json[o].stageId)]==="12")if(u.current[o].assessments){let i=u.current[o].assessments.find(d=>d.assessmentsId===r);return i&&(i!=null&&i.name)?i==null?void 0:i.name:""}else return"";if(b.current[Number(l.values.json[o].stageId)]==="3")if(u.current[o].json){let i=u.current[o].json.find(d=>d.name===r);return i&&(i!=null&&i.labelName)?i==null?void 0:i.labelName:""}else return""}else return"";else return""},le=()=>{if(G(!0),l.isValid)if(l.values.json.length){let o={...l.values},r=[...u.current];T.current!==-1&&(r.splice(T.current,1),o.json.splice(T.current,1),T.current=-1);for(let d=0;d<o.json.length;d++)o.json[d].stageId&&(o.json[d].stageTypeId=b.current[Number(o.json[d].stageId)]),o.json[d].isShown=!1,o.json[d].stageTypeId==="1"&&o.json[d].compareValue&&o.json[d].compareValue.length?(o.json[d].compareValue=Array.isArray(o.json[d].compareValue)?o.json[d].compareValue:o.json[d].compareValue.split(","),o.json[d].compareValue=o.json[d].compareValue.filter(Boolean).join()):o.json[d].stageTypeId==="3"&&(o.json[d].formId=r[d].id);l.setFieldValue("json",o.json);let a=JSON.parse(JSON.stringify(o.json));for(let d=0;d<a.length;d++)if(a[d].stageTypeId==="12"&&a[d].fieldValue&&a[d].fieldValue.startsWith("JB-")&&a[d].fieldValue.split("&&").length>1){let g=a[d].fieldValue.split("&&");a[d].fieldValue=g[0],a[d].assessmentType=g[1]}let i={filterId:l.values.filterId?l.values.filterId:"0",currentStageId:R,json:a,workflow_job_id:C.workflow_job_id,recrId:I.getvalue("recrId"),recrIds:l.values.recrIds,clientId:I.getvalue("clientId")};te(M.postWithData("233seq","DemoAutomation/workflowFilters",i).then(d=>{q(!1),d.data.Success?(B(o.json),d.data.resultList&&d.data.resultList.length?(Z(d.data.resultList.length),V(d.data.resultList)):L("No Candidates with this filter","error")):L(d.data.message,"error")}))}else L("At least One Condition is required. ","error");else if(T.current!==-1){let o=[...u.current],r={...l.values};r.json.splice(T.current,1),o.splice(T.current,1),T.current=-1;for(let a=0;a<r.json.length;a++)r.json[a].stageId&&(r.json[a].stageTypeId=b.current[Number(r.json[a].stageId)]),r.json[a].isShown=!1;l.setFieldValue("json",r.json),u.current=[...o],le()}else L("Please enter all required Fields","error")},se=(o,r,a)=>{console.log(a);let i=[...l.values.json];a&&(i[o].fieldValue=a);let d=l.values.json[o].fieldValue;if(u.current[o]&&l.values.json[o].fieldValue)if(u.current[o].questionSelectedId=d,b.current[Number(l.values.json[o].stageId)]==="3"&&u.current[o]&&u.current[o].id){let g=u.current[o].json.find(j=>j.name===l.values.json[o].fieldValue);u.current[o].questionType=g?g==null?void 0:g.Type:"",u.current[o].questionType==="radio"?u.current[o].questionValues=g&&g.choices?g.choices:[]:u.current[o].questionType==="dropdown"?u.current[o].questionValues=g&&g.choices?g.choices:[]:u.current[o].questionValues=[],r&&(i[o].fieldType=u.current[o].questionType)}else b.current[Number(l.values.json[o].stageId)]==="1"?r&&(a==="1"?i[o].fieldType="dropdown":a==="1"?i[o].fieldType="number":i[o].fieldType=""):b.current[Number(l.values.json[o].stageId)]==="8"||b.current[Number(l.values.json[o].stageId)]==="9"?r&&(i[o].fieldType="radio"):u.current[o]&&(u.current[o].questionType="",r&&(i[o].fieldType=u.current[o].questionType));else u.current[o]&&(u.current[o].questionType="",r&&(i[o].fieldType=u.current[o].questionType));(b.current[Number(l.values.json[o].stageId)]==="8"||b.current[Number(l.values.json[o].stageId)]==="9")&&(i[o].fieldType="radio",i[o].fieldValue=b.current[Number(l.values.json[o].stageId)]==="8"?"Webinar":"Scheduling"),l.setFieldValue("json",i)},be=o=>{if(b.current[Number(l.values.json[o].stageId)]==="8"||b.current[Number(l.values.json[o].stageId)]==="9")return"radio";if(l.values.json[o]&&l.values.json[o].fieldValue){let r=l.values.json[o].fieldValue;if(b.current[Number(l.values.json[o].stageId)]==="1")return l.values.json[o].fieldValue==="1"?"dropdown":l.values.json[o].fieldValue===2?"number":"";if(b.current[Number(l.values.json[o].stageId)]==="12")return l.values.json[o].fieldValue==="JB-XDXQ65RS1"?"dropdown":"number";if(u.current[o]&&l.values.json[o].fieldValue){if(u.current[o].questionSelectedId=r,b.current[Number(l.values.json[o].stageId)]==="3"&&u.current[o]&&u.current[o].id){let a=u.current[o].json.find(i=>i.name===l.values.json[o].fieldValue);return a?a==null?void 0:a.Type:""}else if(u.current[o])return""}else if(u.current[o])return""}else return""},E=o=>{switch(be(o)){case"number":return[{value:"=",name:"is equal to"},{value:"!=",name:"is not equal to"},{value:"<",name:"is lower than"},{value:">",name:"is greater than"},{value:"<=",name:"is lower or equal to"},{value:">=",name:"is greater or equal than"}];case"date":return[{value:"=",name:"is on"},{value:"!=",name:"is not on"},{value:"<",name:"is before"},{value:">",name:"is after"},{value:"<=",name:"is before or on"},{value:">=",name:"is after or on"}];case"checkbox":case"radio":case"dropdown":return[{value:"=",name:"is"},{value:"!=",name:"is not"}];case"textarea":case"text":default:return[{value:"=",name:"is equal to"},{value:"!=",name:"is not equal to"},{value:"**",name:"contains"},{value:"!*",name:"does not contain"}]}},pe=(o,r)=>{let i=E(o).find(d=>d.value===r);return i&&i.name?i.name:""},q=o=>{if(!z.current||!o){z.current=o;let r=[...l.values.json];l.setFieldValue("json",r)}};return f.useEffect(()=>{ae.current?ae.current=!1:F(),console.log("check load")},[]),e.jsxDEV("div",{className:"FilterStage",children:O?e.jsxDEV(D,{children:[e.jsxDEV(P,{variant:"text",color:"primary",size:"small",startIcon:e.jsxDEV(kr,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:814,columnNumber:36},void 0),className:"ml-5 tt-none",onClick:()=>q(!0),title:"Add Condition",children:"Filter Candidates"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:810,columnNumber:21},void 0),X?e.jsxDEV(hr,{badgeContent:X,color:"error",className:"mr-4 ml-2"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:824,columnNumber:29},void 0):null,e.jsxDEV(D,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",className:"d-none",children:[e.jsxDEV(D,{className:"editGridFilter p-2 ",onClick:()=>q(!0),sx:{display:"inline-flex"},children:[e.jsxDEV("span",{className:"editFilter",children:[l.values.recrNames&&(h!=null&&h.length)?e.jsxDEV("span",{children:["Recruiters: ",l.values.recrNames]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:845,columnNumber:41},void 0):null,h!=null&&h.length?h.map((o,r)=>e.jsxDEV("div",{children:e.jsxDEV(D,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",className:"my-3 ",sx:{display:"inline-block"},children:[r===0?e.jsxDEV(D,{sx:{width:"65px",display:"inline-block"},className:"pt-5 pl-3 ifText"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:865,columnNumber:69},void 0):e.jsxDEV(Pe,{variant:"body1",sx:{width:"65px",display:"inline-block"},className:`pl-3 ${h[r-1].condition?"":"d-none"}`,children:h[r-1].condition==="&&"?"AND":"OR"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:869,columnNumber:69},void 0),e.jsxDEV("span",{className:`pr-3 fw-6 ${ue(r,h[r].stageId,"stageId")==="Assessment"?"mr-5 ":""} ${h[r].stageId?"":"d-none"}`,children:ue(r,h[r].stageId,"stageId")},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:873,columnNumber:61},void 0),e.jsxDEV("span",{className:`pr-3 ${h[r].fieldValue?"":"d-none"}`,children:[e.jsxDEV("span",{className:"pr-4 c-grey fw-6",children:" - "},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:877,columnNumber:65},void 0),ue(r,h[r].fieldValue,"fieldValue")]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:876,columnNumber:61},void 0),e.jsxDEV("span",{className:`pr-3 c-grey ${h[r].compare?"":"d-none"}`,children:pe(r,h[r].compare)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:879,columnNumber:61},void 0),e.jsxDEV("span",{className:`pl-3 ${h[r].compareValue?"":"d-none"}`,children:h[r].compareValue},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:882,columnNumber:61},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:856,columnNumber:57},void 0)},`displayCondition${r}`,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:855,columnNumber:53},void 0)):null]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:842,columnNumber:29},void 0),h!=null&&h.length?e.jsxDEV(ve,{"aria-label":"Edit",className:"editIcon pl-4 py-0",onClick:()=>q(!0),children:e.jsxDEV(Dr,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:904,columnNumber:41},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:899,columnNumber:37},void 0):null]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:841,columnNumber:25},void 0),e.jsxDEV(D,{children:h!=null&&h.length?e.jsxDEV(P,{"aria-label":"Cancel",className:"pl-4 py-0",onClick:()=>{B([]),V([])},variant:"outlined",color:"secondary",children:"Clear"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:914,columnNumber:37},void 0):null},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:910,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:833,columnNumber:21},void 0),e.jsxDEV(lr,{open:z.current,className:"filterDialog",maxWidth:"sm",sx:{".MuiDialog-container.MuiDialog-scrollPaper":{justifyContent:"end",alignItems:"start","& .MuiDialog-paper":{maxHeight:"calc(100vh)"},"& .MuiPaper-root":{margin:0}}},children:[e.jsxDEV(Cr,{className:"py-2",children:e.jsxDEV(D,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV("span",{className:"pr-2",children:"Filter Candidates "},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:952,columnNumber:33},void 0),e.jsxDEV("span",{onClick:()=>q(!1),className:"closePopup",children:e.jsxDEV(Me,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:954,columnNumber:37},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:953,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:946,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:945,columnNumber:25},void 0),e.jsxDEV(Re,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:958,columnNumber:25},void 0),e.jsxDEV(or,{className:"dialogContent",children:e.jsxDEV(wr,{onSubmit:le,initialValues:l.initialValues,enableReinitialize:!0,children:({})=>e.jsxDEV(Ar,{placeholder:e.jsxDEV(e.Fragment,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:969,columnNumber:58},void 0),children:[e.jsxDEV(D,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:971,columnNumber:45},void 0),e.jsxDEV("div",{className:"mb-3",children:e.jsxDEV("div",{children:[e.jsxDEV(Be,{id:"recruiter",handleChange:(o,r)=>{l.setFieldValue("recrNames",r),l.setFieldValue("recrIds",o)},valuePassed:l.values.recrIds?{label:l.values.recrNames,id:l.values.recrIds}:{},isMultiple:!0,width:"100%",type:"id",placeholder:"Recruiter Name"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:981,columnNumber:53},void 0),e.jsxDEV(Er,{name:"json",children:({})=>e.jsxDEV("div",{children:l.values.json.map((o,r)=>e.jsxDEV(D,{container:!0,spacing:1,className:`mb-4 pt-2 ${r===0?"mt-4":""}`,sx:{backgroundColor:"#f1f5fa",boxShadow:"none"},children:e.jsxDEV(D,{size:"grow",className:"mt-2 ",children:e.jsxDEV(D,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"start",rowSpacing:1,children:[e.jsxDEV(D,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"start",children:[e.jsxDEV(D,{sx:{width:"100px"},className:`${r===l.values.json.length-1?"v-hidden":""}`,children:e.jsxDEV(Vr,{color:"primary",value:o.condition,exclusive:!0,onChange:(a,i)=>{l.setFieldValue(`json[${r}].condition`,i)},"aria-label":"condition",size:"small",children:[e.jsxDEV(Je,{value:"&&",children:"AND"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1046,columnNumber:109},void 0),e.jsxDEV(Je,{value:"||",sx:{width:40},children:"OR"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1047,columnNumber:109},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1038,columnNumber:105},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1037,columnNumber:101},void 0),e.jsxDEV(D,{size:"auto",sx:{width:"45px"},children:e.jsxDEV(ve,{onClick:a=>U(r),className:`${l.values.json.length===1?"d-none":""}`,children:e.jsxDEV(Wr,{className:"c-red"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1068,columnNumber:109},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1066,columnNumber:105},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1065,columnNumber:101},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1030,columnNumber:97},void 0),e.jsxDEV(D,{sx:{width:330},children:[e.jsxDEV(J,{size:"small",id:`stageId${r}`,select:!0,value:o.stageId,onChange:a=>{N(a.target.value,r)},name:`json[${r}].stageId`,fullWidth:!0,label:"Stage",children:[e.jsxDEV(S,{value:""},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1090,columnNumber:105},void 0),w.current.map((a,i)=>e.jsxDEV(S,{value:a.stageId,children:a.title?a.title:a.name},a.stageId,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1094,columnNumber:124},void 0))]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1073,columnNumber:101},void 0),e.jsxDEV(fe,{formikObj:l,name:"json",array:[r+"","stageId"],isFormSubmitted:k},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1099,columnNumber:101},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1072,columnNumber:97},void 0),e.jsxDEV(D,{sx:{width:330},className:`${l.values.json[r].stageId?"":"d-none"}`,children:[e.jsxDEV(J,{size:"small",id:`fieldValue${r}`,select:!0,value:o.fieldValue,onChange:a=>{se(r,!0,a.target.value)},name:`json[${r}].fieldValue`,fullWidth:!0,label:`${b.current[Number(l.values.json[r].stageId)]==="1"?"Trigger":b.current[Number(l.values.json[r].stageId)]==="12"?"Assessment":b.current[Number(l.values.json[r].stageId)]==="3"?"Question":b.current[Number(l.values.json[r].stageId)]==="8"?"Webinar":b.current[Number(l.values.json[r].stageId)]==="9"?"Scheduling":""}`,children:[e.jsxDEV(S,{value:""},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1130,columnNumber:105},void 0),u.current&&u.current[r]?b.current[Number(l.values.json[r].stageId)]==="12"?u.current[r].assessments?u.current[r].assessments.map((a,i)=>e.jsxDEV(S,{value:a.assessmentsId,children:[a.name," ",a.assessmentType?`(${a.assessmentType})`:""]},a.assessmentsId,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1137,columnNumber:132},void 0)):null:b.current[Number(l.values.json[r].stageId)]==="3"&&u.current[r]&&u.current[r].id?u.current[r].json?u.current[r].json.map((a,i)=>e.jsxDEV(S,{value:a.name,children:a.labelName},a.name,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1147,columnNumber:136},void 0)):null:b.current[Number(l.values.json[r].stageId)]==="1"?u.current[r].states?u.current[r].states.map((a,i)=>e.jsxDEV(S,{value:a.id,children:a.name},a.id,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1154,columnNumber:140},void 0)):null:b.current[Number(l.values.json[r].stageId)]==="8"?e.jsxDEV(S,{value:"Webinar",selected:!0,children:"Webinar"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1159,columnNumber:129},void 0):b.current[Number(l.values.json[r].stageId)]==="9"?e.jsxDEV(S,{value:"Scheduling",selected:!0,children:"Scheduling"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1163,columnNumber:133},void 0):null:null]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1105,columnNumber:101},void 0),e.jsxDEV(fe,{formikObj:l,name:"json",array:[r+"","fieldValue"],isFormSubmitted:k},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1170,columnNumber:101},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1101,columnNumber:97},void 0),e.jsxDEV(D,{sx:{width:330},className:`${l.values.json[r].fieldValue||b.current[Number(l.values.json[r].stageId)]==="8"||b.current[Number(l.values.json[r].stageId)]==="9"?"":"d-none"}`,children:[e.jsxDEV(J,{size:"small",id:`compare${r}`,select:!0,value:o.compare,onChange:l.handleChange,name:`json[${r}].compare`,fullWidth:!0,children:[e.jsxDEV(S,{value:""},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1186,columnNumber:105},void 0),E(r).map(a=>e.jsxDEV(S,{value:a.value,children:a.name},a.value,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1190,columnNumber:124},void 0))]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1177,columnNumber:101},void 0),e.jsxDEV(fe,{formikObj:l,name:"json",array:[r+"","compare"],isFormSubmitted:k},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1195,columnNumber:101},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1173,columnNumber:97},void 0),e.jsxDEV(D,{sx:{width:330},className:`${l.values.json[r].compare?"":"d-none"}`,children:[l.values.json[r].fieldValue==="JB-XDXQ65RS1"&&b.current[Number(l.values.json[r].stageId)]==="12"?e.jsxDEV(J,{size:"small",id:`compareValue${r}`,value:o.compareValue,onChange:l.handleChange,name:`json[${r}].compareValue`,fullWidth:!0,select:!0,children:[e.jsxDEV(S,{value:"Proficient",children:"Proficient"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1211,columnNumber:113},void 0),e.jsxDEV(S,{value:"Highly Proficient",children:"Highly Proficient"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1212,columnNumber:113},void 0),e.jsxDEV(S,{value:"Not Proficient",children:"Not Proficient"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1213,columnNumber:113},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1202,columnNumber:109},void 0):l.values.json[r].fieldType==="number"||b.current[Number(l.values.json[r].stageId)]==="12"||b.current[Number(l.values.json[r].stageId)]==="1"&&l.values.json[r].fieldValue==="2"?e.jsxDEV(J,{size:"small",id:`compareValue${r}`,value:o.compareValue,onChange:l.handleChange,name:`json[${r}].compareValue`,fullWidth:!0,type:"number"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1217,columnNumber:113},void 0):null,l.values.json[r].fieldType==="text"||l.values.json[r].fieldType==="textarea"?e.jsxDEV(J,{size:"small",id:`compareValue${r}`,value:o.compareValue,onChange:l.handleChange,name:`json[${r}].compareValue`,fullWidth:!0,type:"text"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1233,columnNumber:109},void 0):null,l.values.json[r].fieldType==="email"?e.jsxDEV(J,{size:"small",id:`compareValue${r}`,value:o.compareValue,onChange:l.handleChange,name:`json[${r}].compareValue`,fullWidth:!0,type:"email"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1250,columnNumber:109},void 0):null,l.values.json[r].fieldType==="date"?e.jsxDEV(J,{size:"small",id:`compareValue${r}`,value:o.compareValue,onChange:l.handleChange,name:`json[${r}].compareValue`,fullWidth:!0,type:"date"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1266,columnNumber:109},void 0):null,l.values.json[r].fieldType==="radio"?e.jsxDEV(J,{size:"small",id:`compareValue${r}`,value:o.compareValue,onChange:l.handleChange,name:`json[${r}].compareValue`,fullWidth:!0,select:!0,children:[u.current[r]&&u.current[r].questionValues?u.current[r].questionValues.map((a,i)=>e.jsxDEV(S,{value:a.value,children:a.name},a.value,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1295,columnNumber:132},void 0)):null,b.current[Number(l.values.json[r].stageId)]==="8"?_.map(a=>e.jsxDEV(S,{value:a,children:a},a,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1304,columnNumber:132},void 0)):null,b.current[Number(l.values.json[r].stageId)]==="9"?ne.map(a=>e.jsxDEV(S,{value:a,children:a},a,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1312,columnNumber:132},void 0)):null]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1282,columnNumber:109},void 0):null,l.values.json[r].fieldType==="dropdown"?b.current[Number(l.values.json[r].stageId)]==="12"||b.current[Number(l.values.json[r].stageId)]==="3"?e.jsxDEV(J,{size:"small",id:`compareValue${r}`,value:o.compareValue,onChange:l.handleChange,name:`json[${r}].compareValue`,fullWidth:!0,select:!0,children:u.current[r]&&u.current[r].questionValues?u.current[r].questionValues.map((a,i)=>e.jsxDEV(S,{value:a.value,children:a.name},a.value,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1337,columnNumber:136},void 0)):null},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1324,columnNumber:113},void 0):b.current[Number(l.values.json[r].stageId)]==="1"?e.jsxDEV(J,{size:"small",id:`compareValue${r}`,value:Array.isArray(o.compareValue)?o.compareValue:o.compareValue.split(","),onChange:l.handleChange,name:`json[${r}].compareValue`,fullWidth:!0,select:!0,SelectProps:{multiple:!0},children:Fe?Fe.map((a,i)=>e.jsxDEV(S,{value:a.id,children:a.label},a.id,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1366,columnNumber:140},void 0)):null},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1346,columnNumber:117},void 0):null:null,l.values.json[r].fieldType==="checkbox"?e.jsxDEV(J,{size:"small",id:`compareValue${r}`,value:o.compareValue,onChange:l.handleChange,name:`json[${r}].compareValue`,fullWidth:!0,select:!0,children:[e.jsxDEV(S,{value:1,children:"Is Checked"},1,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1391,columnNumber:113},void 0),e.jsxDEV(S,{value:0,children:"Is Not Checked"},0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1392,columnNumber:113},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1381,columnNumber:109},void 0):null,e.jsxDEV(fe,{formikObj:l,name:"json",array:[r+"","compareValue"],isFormSubmitted:k},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1397,columnNumber:101},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1197,columnNumber:97},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1023,columnNumber:93},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1017,columnNumber:89},void 0)},`condition${r}`,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1005,columnNumber:85},void 0))},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:999,columnNumber:65},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:994,columnNumber:53},void 0),e.jsxDEV(D,{container:!0,spacing:1,className:"my-3",children:e.jsxDEV(P,{variant:"text",color:"primary",startIcon:e.jsxDEV(gr,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1411,columnNumber:107},void 0),onClick:re,children:"Add Filter"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1411,columnNumber:57},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1410,columnNumber:53},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:980,columnNumber:49},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:979,columnNumber:45},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:968,columnNumber:41},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:961,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:959,columnNumber:25},void 0),e.jsxDEV(Re,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1492,columnNumber:25},void 0),e.jsxDEV(tr,{children:e.jsxDEV(D,{container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center",children:[e.jsxDEV(P,{color:"primary",variant:"contained",type:"submit",className:"mt-3 mr-2",size:"small",onClick:le,children:"Apply"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1500,columnNumber:33},void 0),e.jsxDEV(P,{color:"primary",variant:"outlined",type:"button",className:"mt-3 mr-2",size:"small",onClick:()=>q(!1),children:"Cancel"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1512,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1494,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1493,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:931,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:809,columnNumber:17},void 0):null},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:803,columnNumber:12},void 0)},Br=({moreMenuData:c,moveToStage:R})=>{const[p,C]=f.useState(null),V=!!p,O=k=>{C(k.currentTarget)},v=()=>{C(null)};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(P,{size:"small",id:`more-button-${c.candid}`,"aria-controls":V?`more-menu-${c.candid}`:void 0,"aria-haspopup":"true","aria-expanded":V?"true":void 0,onClick:O,children:e.jsxDEV(Fr,{className:"fs-16"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/MoreMenuButton.tsx",lineNumber:27,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/MoreMenuButton.tsx",lineNumber:19,columnNumber:9},void 0),e.jsxDEV(We,{id:`more-menu-${c.candid}`,anchorEl:p,open:V,onClose:v,MenuListProps:{"aria-labelledby":`more-button-${c.candid}`},children:c.nextStageList.map(k=>e.jsxDEV(S,{onClick:()=>{v(),R(k.stageId)},children:k.title?k.title:k.name},k.stageId,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/MoreMenuButton.tsx",lineNumber:40,columnNumber:28},void 0))},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/MoreMenuButton.tsx",lineNumber:29,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/MoreMenuButton.tsx",lineNumber:18,columnNumber:12},void 0)},qr=50,$r=({masterStagesList:c,selectedStage:R,stageIds:p,totalCount:C,workflowData:V,refetchData:O})=>{const{jobId:v}=_e(),[k,G]=f.useState([]),[X,Z]=f.useState(!1),[ae,u]=f.useState(""),[w,ie]=f.useState(""),[_,ne]=f.useState(!1),[b,z]=f.useState(!1),T=f.useRef(""),[ee,h]=f.useState({id:"",name:""}),B=f.useRef(""),l=I.checkIntegration(40005)&&I.checkIntegration(400020),[N,W]=f.useState([]),F=f.useRef(null),[re,U]=f.useState(!1),ue=t=>{T.current=t,z(!0)},le=(t,m)=>{navigator.clipboard.writeText(t),L(m+" Copied","success")},se=()=>{const t=Object.keys(Y).filter(m=>Y[m]);if(t.length===1){const m=t[0],x=oe.find(A=>A.candid===m);x&&(u(x.email),ie(x.candname),ne(!1),Z(!0))}else t.length>1&&(u(""),ie(""),ne(!0),Z(!0))},be=f.useMemo(()=>[],[]),E=f.useMemo(()=>[],[]),pe=f.useRef(null),q=f.useRef(null),[o,r]=f.useState([]),[a,i]=f.useState(),[d,g]=f.useState([]),[j,ce]=f.useState(!1),[Y,n]=f.useState({}),{data:s,fetchNextPage:y,isError:K,isFetching:Ne,isLoading:qe,refetch:ge}=fr({queryKey:["table-data",o,a,d],queryFn:async({pageParam:t=0})=>{const m=B.current?await M.getByParams(193,"Curately/Workflow/workflow_applicants_view_single.jsp",{workflow_job_cand_id:B.current,clientId:I.getvalue("clientId")}):await M.getByParams(193,"Curately/Workflow/workflow_applicants_view.jsp",{jobId:v,stageId:R.stageId,pageSize:qr,pageIndex:t*50,candIds:de.current.join(),clientId:I.getvalue("clientId")});let A=(await nr.parseApplicantsData(m.data,c)).applicants;return A!=null&&A.length&&W(A[0].nextStageList),t===0&&(E.length=0,await $e()),{data:A}},getNextPageParam:(t,m)=>m.length,keepPreviousData:!0,refetchOnWindowFocus:!1}),$e=async()=>{if(!E.length){E.push({accessorKey:"name",header:"Name",size:250,Cell:({row:t})=>t.original.candname?e.jsxDEV(D,{children:[e.jsxDEV("span",{className:"hightLightTd fs-13",onClick:()=>ue(t.original.candid),children:t.original.candname.toLowerCase()},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:281,columnNumber:29},void 0),t.original.email&&t.original.email.trim()?e.jsxDEV(Ce,{className:"py-0 pl-0",secondaryAction:e.jsxDEV(ke,{className:"cursor-pointer fs-16",onClick:m=>{m.stopPropagation(),le(t.original.email,"Email")}},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:287,columnNumber:45},void 0),children:[e.jsxDEV(Ve,{sx:{minWidth:"20px !important"},children:e.jsxDEV(pr,{className:"fs-16"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:296,columnNumber:45},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:295,columnNumber:41},void 0),e.jsxDEV(Le,{className:"m-0",sx:{color:"#007bff"},primary:e.jsxDEV("span",{className:"fs-13",children:[t.original.email," "]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:301,columnNumber:54},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:298,columnNumber:41},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:284,columnNumber:37},void 0):null,t.original.phoneno&&t.original.phoneno.trim()?e.jsxDEV(Ce,{className:"py-0 pl-0",secondaryAction:e.jsxDEV(ke,{className:"cursor-pointer fs-16",onClick:m=>{m.stopPropagation(),le(t.original.phoneno,"Phone Number")}},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:312,columnNumber:45},void 0),children:[e.jsxDEV(Ve,{sx:{minWidth:"20px !important"},children:e.jsxDEV(Lr,{className:"fs-16 mt-1"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:321,columnNumber:45},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:320,columnNumber:41},void 0),e.jsxDEV(Le,{className:"m-0",sx:{color:"#007bff"},primary:e.jsxDEV("span",{className:"fs-13",children:[t.original.phoneno," "]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:326,columnNumber:54},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:323,columnNumber:41},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:309,columnNumber:37},void 0):null,e.jsxDEV(Ur,{className:"mt-1",variant:"outlined","aria-label":"outlined button group",size:"small",children:[t.original.candtoken?e.jsxDEV(ye,{title:"Copy Candidate Link",children:e.jsxDEV(P,{size:"small",onClick:m=>{m.stopPropagation(),le("https://app.curately.ai/workflow/#/stages/"+t.original.candtoken,"Candidate Link")},children:e.jsxDEV(sr,{className:"fs-16"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:341,columnNumber:49},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:336,columnNumber:45},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:335,columnNumber:41},void 0):null,p.rejected&&t.original.stageid&&p.rejected!==t.original.stageid?e.jsxDEV(ye,{title:"Reject",children:e.jsxDEV(P,{size:"small",onClick:()=>{Se("Are you sure you want to move the candidate to Rejected Stage?",()=>{$.current=t.original,me(p.rejected)},"warning"),Ee()},children:e.jsxDEV(Me,{className:"fs-16"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:359,columnNumber:49},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:350,columnNumber:45},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:349,columnNumber:41},void 0):null,t.original.nextStageId&&p.approved&&p.approved!==t.original.stageid?e.jsxDEV(ye,{title:"Move to Next Stage",children:e.jsxDEV(P,{size:"small",onClick:()=>{Se("Are you sure you want to move the candidate to Next Stage?",()=>{$.current=t.original,me(t.original.nextStageId)},"warning"),Ee()},children:e.jsxDEV(Mr,{className:"fs-16"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:378,columnNumber:49},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:368,columnNumber:45},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:367,columnNumber:41},void 0):null,t.original.nextStageList&&t.original.nextStageList.length?e.jsxDEV(Br,{moreMenuData:t.original,moveToStage:m=>{$.current=t.original,me(m)}},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:386,columnNumber:41},void 0):null]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:332,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:280,columnNumber:25},void 0):null}),E.push({accessorKey:"recruiter",header:"Recruiter",Cell:({...t})=>Q("").recruiter(t.row.original)}),E.push({accessorKey:"stages",header:"Stages",Cell:({...t})=>Q("").stagesList(t.row.original)});for(let t=0;t<c.length;t++)c[t].stageTypeId==="3"?E.push({accessorKey:"dataCollection"+c[t].stageId,header:c[t].title?c[t].title:c[t].name,Cell:({...m})=>Q(c[t].stageId).dataCollection(m.row.original),minSize:250}):c[t].stageTypeId==="15"?E.push({accessorKey:"documentSigning"+c[t].stageId,header:c[t].title?c[t].title:c[t].name,Cell:({...m})=>Q(c[t].stageId).documentSigning(m.row.original)}):c[t].stageTypeId==="10"?E.push({accessorKey:"videoRecordings"+c[t].stageId,header:c[t].title?c[t].title:c[t].name,minSize:250,Cell:({row:m})=>e.jsxDEV("div",{className:"videoRecordingDiv",children:m.original["videoRecordingsList_"+c[t].stageId]&&m.original["videoRecordingsList_"+c[t].stageId].length?m.original["videoRecordingsList_"+c[t].stageId].map(x=>e.jsxDEV(D,{children:[e.jsxDEV("label",{className:"fw-7 questionLabel",children:x.question},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:453,columnNumber:49},void 0),e.jsxDEV("div",{children:[" ",e.jsxDEV(ir,{onClick:()=>Xe(x.videolink),className:"cursor-pointer c-grey"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:454,columnNumber:55},void 0)," "]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:454,columnNumber:49},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:452,columnNumber:232},void 0)):null},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:449,columnNumber:33},void 0)}):c[t].stageTypeId==="9"?E.push({accessorKey:"scheduler"+c[t].stageId,header:c[t].title?c[t].title:c[t].name,Cell:({...m})=>Q(c[t].stageId).scheduler(m.row.original)}):c[t].stageTypeId==="12"?E.push({accessorKey:"assessmnets"+c[t].stageId,header:c[t].title?c[t].title:c[t].name,Cell:({...m})=>Q(c[t].stageId).assessment(m.row.original)}):c[t].stageTypeId==="8"?E.push({accessorKey:"webinar"+c[t].stageId,header:c[t].title?c[t].title:c[t].name,Cell:({...m})=>Q(c[t].stageId).webinar(m.row.original)}):c[t].stageTypeId==="14"?E.push({accessorKey:"systemChecker"+c[t].stageId,header:c[t].title?c[t].title:c[t].name,Cell:({...m})=>Q(c[t].stageId).systemChecker(m.row.original)}):c[t].stageTypeId}},oe=f.useMemo(()=>(s==null?void 0:s.pages.flatMap(t=>t.data))??[],[s]),Oe=t=>{if(t.target.checked){let m={},x=oe;for(let A=0;A<oe.length;A++)m[x[A].candid]=!0;n(m)}else n({});ce(t.target.checked)},de=f.useRef([]),he=B.current?1:de.current.length?de.current.length:C??0,De=oe.length,ze=f.useCallback(t=>{if(t){const{scrollHeight:m,scrollTop:x,clientHeight:A}=t;m-x-A<400&&!Ne&&De<he&&y()}},[y,Ne,De,he]);f.useEffect(()=>{var t,m;oe.length&&((m=(t=q.current)==null?void 0:t.scrollToIndex)==null||m.call(t,0)),G(Object.keys(Y))},[Y]),f.useEffect(()=>{var t,m;try{(m=(t=q.current)==null?void 0:t.scrollToIndex)==null||m.call(t,0)}catch(x){console.error(x)}},[d,o,a]);const $=f.useRef({}),[Ke,xe]=f.useState(!1),[we,He]=f.useState(""),[Qe,Ge]=f.useState(null),Ae=!!Qe;f.useEffect(()=>{console.log(Ae)},[Ae]);const Ee=()=>{Ge(null)},Xe=t=>{t&&(Ze(t)||t.includes("cameratag.com"))?(He(t),xe(!0)):L("In Valid URL.","error")},Ze=t=>{var m=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!m.test(t)},me=t=>{let m={workflow_job_cand_id:$.current.workflow_job_cand_id,candid:$.current.candid,fromstage:$.current.stageid,tostage:t,recrid:I.getvalue("recrId"),clientId:I.getvalue("clientId")};te(M.getByParams(193,"Curately/Workflow/workflow_candidate_next_stage.jsp",{workflow_job_cand_id:$.current.workflow_job_cand_id,stageId:$.current.stageid,stageNumber:$.current.position,stageId1:t,clientId:I.getvalue("clientId")}).then(x=>{x.data.message==="Success"?M.postWithData("admin","applicantsStagesMoveLogs",m).then(A=>{A.data.Success?(ge(),O()):L(A.data.message,"error")}):L(x.data.message,"error")}))},er=t=>{de.current=t,ge()},rr=t=>{let m=Object.entries(Y).filter(([x,A])=>A).map(([x])=>x);if(U(!1),m!=null&&m.length){let x=oe.find(A=>A.candid.toString()===m[0].toString());$.current=x,me(t)}};return e.jsxDEV(e.Fragment,{children:[E.length?e.jsxDEV(cr,{enableStickyHeader:!0,columns:E.length?E:be,data:oe,enablePagination:!1,enableRowSelection:!0,enableRowVirtualization:!0,manualFiltering:!0,manualSorting:!0,renderTopToolbar:e.jsxDEV("div",{children:e.jsxDEV(D,{container:!0,direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsxDEV(D,{children:e.jsxDEV(je,{direction:"row",children:[e.jsxDEV(Tr,{className:"select-all-checkbox ml-3 p-1",disableRipple:!0,color:"default",checked:j,onChange:Oe},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:707,columnNumber:45},void 0),l?e.jsxDEV(P,{variant:"outlined",color:"secondary",className:"mr-2",disabled:!(Object.keys(Y).length>0),onClick:se,startIcon:e.jsxDEV(Jr,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:716,columnNumber:68},void 0),children:"Blast Email"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:710,columnNumber:53},void 0):null,e.jsxDEV(P,{variant:"outlined",color:"secondary",className:"mr-2",disabled:Object.keys(Y).length!==1,onClick:()=>{U(!0)},endIcon:e.jsxDEV(Pr,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:733,columnNumber:62},void 0),ref:F,children:"Move To"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:725,columnNumber:49},void 0),!!(N!=null&&N.length)&&e.jsxDEV(We,{open:re,onClose:()=>{U(!1)},anchorEl:F.current,children:N.map((t,m)=>e.jsxDEV(S,{onClick:()=>rr(t.stageId),children:t.title?t.title:t.name},m,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:746,columnNumber:53},void 0))},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:740,columnNumber:74},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:706,columnNumber:41},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:705,columnNumber:37},void 0),e.jsxDEV(D,{children:e.jsxDEV(je,{direction:"row",alignItems:"center",children:[e.jsxDEV("div",{className:"mr-5",children:R.stageId?e.jsxDEV(_r,{currentStageId:R.stageId,passedStageData:{},stagesList:c,workflowData:V,sendCandIds:er},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:756,columnNumber:57},void 0):null},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:753,columnNumber:45},void 0),e.jsxDEV(Be,{id:"workflowCandidate",handleChange:(t,m)=>{h({id:t,name:m}),B.current=t||"",ge(),n({})},valuePassed:ee.id?{label:ee.name,id:ee.id}:{},isMultiple:!1,textToShow:"Search Candidate",width:"250px",type:"workflowCandidate",placeholder:"Select Candidate",jobId:v,className:"mb-1 pr-2 pt-1"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:761,columnNumber:45},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:752,columnNumber:41},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:751,columnNumber:37},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:699,columnNumber:33},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:698,columnNumber:29},void 0),muiTableContainerProps:{ref:pe,sx:{maxHeight:"600px"},onScroll:t=>ze(t.target)},muiToolbarAlertBannerProps:K?{color:"error",children:"Error loading data"}:void 0,initialState:{density:"compact",showGlobalFilter:!1},onColumnFiltersChange:r,onGlobalFilterChange:i,onSortingChange:g,enableGlobalFilterModes:!1,renderBottomToolbarCustomActions:()=>e.jsxDEV(Pe,{children:[De," of ",he]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:815,columnNumber:29},void 0),state:{columnFilters:o,globalFilter:a,isLoading:qe,showAlertBanner:K,showProgressBars:Ne,sorting:d,rowSelection:Y},onRowSelectionChange:n,rowVirtualizerInstanceRef:q,rowVirtualizerOptions:{overscan:4},getRowId:t=>t.candid,icons:{ArrowDownwardIcon:t=>e.jsxDEV(br,{...t},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:835,columnNumber:64},void 0)},layoutMode:"semantic"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:687,columnNumber:21},void 0):null,we?e.jsxDEV(Ir,{url:we,open:Ke,closePopup:()=>xe(!1)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:844,columnNumber:21},void 0):null,X&&e.jsxDEV(Nr,{dialogOpen:X,onClose:()=>Z(!1),name:w,emailId:ae,isBulkEmail:_,jobId:v},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:850,columnNumber:29},void 0),b?e.jsxDEV(Rr,{candidateId:T.current,closePopup:()=>z(!1),jobId:v||"",open:b},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:881,columnNumber:21},void 0):null]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:684,columnNumber:9},void 0)},Or=new dr,zr=({masterStagesList:c,selectedStage:R,stageIds:p,totalCount:C,workflowData:V,refetchData:O})=>e.jsxDEV(mr,{client:Or,children:e.jsxDEV($r,{masterStagesList:c,selectedStage:R,stageIds:p,totalCount:C,workflowData:V,refetchData:O},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:907,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:906,columnNumber:5},void 0),Oo=()=>{var B;const{jobId:c}=_e(),[R,p]=f.useState(null),C=!!R;f.useEffect(()=>{console.log(C)},[C]);const[V,O]=f.useState({jobid:"",workflowName:"",workflow_job_id:"",workflowId:""}),[v,k]=f.useState({rejected:"",approved:"",onHold:""}),[G,X]=f.useState({stageTypeId:"",noOfCandidates:"",name:"",position:"",title:"",stageId:"",countToShow:"",isCountLoading:!1}),[Z,ae]=f.useState(!1),u=(l,N)=>{console.log(N),ae(N)},[w,ie]=f.useState({}),[_,ne]=f.useState([]),b=()=>{p(null)},z=()=>{te(M.getByParams(193,"Curately/Workflow/workflow_job_stages_list.jsp",{jobId:c,clientId:I.getvalue("clientId")}).then(l=>{O({jobid:l.data.jobid,workflowName:l.data.workflowName,workflow_job_id:l.data.workflow_job_id,workflowId:l.data.workflowId});let N=l.data.stages;if(N=N.sort((W,F)=>parseFloat(W.position)-parseFloat(F.position)),N=N.filter(W=>W.stageTypeId!=="1"&&W.stageTypeId!=="11"),N&&N.length){let W=N.find(U=>U.stageTypeId==="6"),F=N.find(U=>U.stageTypeId==="7"),re=N.find(U=>U.stageTypeId==="2");k({rejected:W&&W.stageId?W.stageId:"",onHold:F&&F.stageId?F.stageId:"",approved:re&&re.stageId?re.stageId:""})}for(let W=0;W<N.length;W++)N[W].isCountLoading=!0;T(N),setTimeout(()=>{},250)}))},T=async l=>{console.log(l);for(let N=0;N<l.length;N++)l[N].countToShow||await te(M.getByParams(193,"Curately/Workflow/workflow_applicants_view_count.jsp",{jobId:c,stageId:l[N].stageId,clientId:I.getvalue("clientId")}).then(W=>{l[N].countToShow=W.data.totalSize,l[N].isCountLoading=!1}));console.log(l),ne(l)},ee=l=>{let N={workflow_job_cand_id:w.workflow_job_cand_id,candid:w.candid,fromstage:w.stageid,tostage:l,recrid:I.getvalue("recrId"),clientId:I.getvalue("clientId")};te(M.getByParams(193,"Curately/Workflow/workflow_candidate_next_stage.jsp",{workflow_job_cand_id:w.workflow_job_cand_id,stageId:w.stageid,stageNumber:w.position,stageId1:l,clientId:I.getvalue("clientId")}).then(W=>{W.data.message==="Success"?M.postWithData("admin","applicantsStagesMoveLogs",N).then(F=>{F.data.Success||L(F.data.message,"error")}):L(W.data.message,"error")}))};f.useEffect(()=>{_.length||z()},[]),f.useEffect(()=>{console.log(_)},[_]),f.useEffect(()=>{console.log(V)},[V]);function h(l){return{id:`sourceTabs-${l}`,"aria-controls":`sourceTabsPanel-${l}`}}return e.jsxDEV("div",{className:"jobWorkflow pr-1",children:[e.jsxDEV(D,{className:"customCard p-0",sx:{minHeight:"auto !important",width:"calc(100% - 16px) !important"},children:[e.jsxDEV(yr,{value:Z,onChange:u,"aria-label":"View Sourced Tabs",scrollButtons:"auto",variant:"scrollable",id:" viewSourcedTab",children:_.map(l=>e.jsxDEV(Sr,{label:e.jsxDEV(D,{container:!0,direction:"column",alignContent:"center",children:l.countToShow>0?e.jsxDEV("div",{className:"statusCount",children:[l.isCountLoading?e.jsxDEV(ar,{color:"success"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:278,columnNumber:57},void 0):l.countToShow?e.jsxDEV("span",{children:l.countToShow},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:280,columnNumber:61},void 0):e.jsxDEV("span",{children:""},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:282,columnNumber:61},void 0),e.jsxDEV("div",{className:"statusLabel fw-7",children:l.title?l.title:l.name},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:284,columnNumber:49},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:275,columnNumber:45},void 0):e.jsxDEV("div",{children:[e.jsxDEV("span",{children:l.countToShow},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:288,columnNumber:49},void 0),e.jsxDEV("div",{className:"statusLabel",children:l.title?l.title:l.name},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:289,columnNumber:49},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:287,columnNumber:45},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:272,columnNumber:33},void 0),...h(0),className:"sourceTab",onClick:()=>{X(l)}},l.stageId,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:269,columnNumber:25},void 0))},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:267,columnNumber:17},void 0),e.jsxDEV("div",{className:"candidatesList MRTableCustom pl-0",children:_.map(l=>e.jsxDEV("div",{children:l.stageId===G.stageId?e.jsxDEV(zr,{masterStagesList:_,selectedStage:G,stageIds:v,totalCount:Number(l.countToShow),workflowData:V,refetchData:z},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:314,columnNumber:45},void 0):null},l.stageId,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:311,columnNumber:33},void 0))},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:307,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:266,columnNumber:13},void 0),e.jsxDEV(We,{id:"addlistmenu",anchorEl:R,open:C,onClose:b,MenuListProps:{"aria-labelledby":"add-list-btn"},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(B=w==null?void 0:w.nextStageList)!=null&&B.length?w==null?void 0:w.nextStageList.map(l=>e.jsxDEV(S,{onClick:()=>{Se(`Are you sure you want to move the candidate to ${l.title?l.title:l.name}?`,()=>{ee(l.stageId)},"warning"),b()},children:l.title?l.title:l.name},l.stageId,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:430,columnNumber:32},void 0)):null},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:411,columnNumber:13},void 0),e.jsxDEV(Yr,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:449,columnNumber:13},void 0),e.jsxDEV(ur,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:450,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:265,columnNumber:9},void 0)};export{Oo as default};
