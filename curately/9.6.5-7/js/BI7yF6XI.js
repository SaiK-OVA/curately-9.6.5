import{Y as x,r as p,al as y,cl as E,k as c,L as a,A as n,V as f}from"./Cgppv_Sf.js";import{F as I}from"./C6E31vv8.js";import"./DRgYIgAI.js";import"./Dxq25FgU.js";import"./BFeG3Rrm.js";import"./CRJpcgJc.js";import"./BJotH55m.js";import"./BkKnc3pH.js";import"./FVe6lIVR.js";import"./DfZvsVaa.js";import"./kx4FOAoQ.js";import"./CtTUZ4Jr.js";import"./BxLAtHuG.js";import"./XPHitdj4.js";import"./ChUKxi90.js";import"./D6SqIoha.js";import"./Bp2g836F.js";import"./BJCg17MG.js";import"./CagltWra.js";import"./CB9QYnGm.js";import"./C7pzRmL5.js";import"./dZX7lgtO.js";import"./oe9WjlWR.js";import"./BGveyHVg.js";import"./CAWvjt4G.js";import"./CbCF5Xps.js";import"./BESjHuWm.js";import"./BP4ZMwX4.js";import"./C148XJoK.js";import"./BDDXo8MR.js";import"./B93O5liC.js";import"./CVtbaTfk.js";import"./DIGW6AYh.js";import"./XFArKoHE.js";import"./B-98_CNj.js";import"./DUrHk-MO.js";import"./C-Jq_Y4P.js";import"./BiLTbjOU.js";import"./CPvg8iC8.js";import"./C-VMvMKD.js";import"./BAcuJNx9.js";import"./Cv_2edHZ.js";import"./CB9nuhLI.js";import"./BKURaxCk.js";import"./DaGbQO6h.js";import"./Dau3miA7.js";import"./rYcqsWUw.js";import"./CtuCFr0K.js";import"./DI3-CCgY.js";import"./6HgfybZm.js";import"./_Jx2zO5I.js";import"./BTMlLxsk.js";import"./B2_5Y_RJ.js";import"./jMXFmExr.js";import"./Ch9TGLTe.js";const Ct=()=>{const d=x(),[D,v]=p.useState(""),{formId:t}=y(),[h,l]=p.useState(!1),[S,F]=p.useContext(E),A=async(m,s)=>{let o=m.map((r,i)=>({...r,isActive:i===0})),e={action:"save",form_name:s,json:{components:o,curately:!0},userid:a.getvalue("recrId"),webFormDesc:"",webformThankContent:"",clientId:a.getvalue("clientId")};e.aliasName=e.form_name.charAt(0),e.form_name=s,t&&(e.form_id=t),n.postWithData("admin","sequenceFormBuilder",e).then(r=>{r.data.Success?(f(t?"Your form has been updated successfully":"Your form has been saved successfully","success"),d(`/${a.getvalue("clientName")}/letter/forms/list`),g(4189)):f(r.data.Message,"error")}).catch(r=>{console.error("Error:",r)})};p.useEffect(()=>{t?(async()=>{let s={action:"get",form_id:t,userid:a.getvalue("recrId"),clientId:a.getvalue("clientId")};n.postWithData("admin","sequenceFormBuilder",s).then(o=>{var u;let e=(u=o.data)==null?void 0:u.form_name;v(e);let i=o.data.json.components.map((b,L)=>({...b,isActive:L===0}));F(i),l(!0)}).catch(o=>{console.error("Error:",o),l(!0)})})():l(!0)},[t]);const g=m=>{n.saveAuditLog(m)},N=()=>{d(`/${a.getvalue("clientName")}/letter/forms/list`)};return c.jsxDEV(c.Fragment,{children:h?c.jsxDEV(I,{callParentSave:A,cancelClicked:N,formIdPassed:t||"",formNamePassed:D,isFormBuilder:!0,showSave:!0,showCancel:!0},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/FormBuilder/Add/AddFormBuilder.tsx",lineNumber:125,columnNumber:17},void 0):null},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/FormBuilder/Add/AddFormBuilder.tsx",lineNumber:123,columnNumber:9},void 0)};export{Ct as default};
