import{q as oe,v as ie,r as p,k as r,O as _,l as F,C as le,T as B,B as Q,L as ce,W as ue,A as me,R as de,D as fe,o as pe}from"./Cgppv_Sf.js";import{U as Z}from"./CB9QYnGm.js";import{T as ee}from"./BxLAtHuG.js";const ve=[{name:"English Writing",assessmentsId:"87344efd-e00a-4609-9e55-27eb8cbe3789",source:"emmersion",assessmentCode:"EMEREW",isChecked:!1},{name:"English Speaking",assessmentsId:"e1faeacb-ff91-4e4b-b3af-d1120508b6d8",source:"emmersion",assessmentCode:"EMERES",isChecked:!1},{name:"Spanish Speaking",assessmentsId:"dd7ada18-7327-4d7b-96fc-ccdf8a082af4",source:"emmersion",assessmentCode:"EMERSS",isChecked:!1},{name:"French Speaking",assessmentsId:"ae271fa1-d856-4093-820b-de9f9821360f",source:"emmersion",assessmentCode:"EMERFS",isChecked:!1},{name:"Mandarin Speaking",assessmentsId:"ff4ee469-7dc9-47e1-a61c-17be42403556",source:"emmersion",assessmentCode:"EMERMS",isChecked:!1},{name:"Spanish Writing",assessmentsId:"e74f05f2-0696-48f1-8520-1fec98cc3cef",source:"emmersion",assessmentCode:"EMERSW",isChecked:!1},{name:"German Speaking",assessmentsId:"3a62cd1a-8d8f-4a2c-9475-368bbc0f9b81",source:"emmersion",assessmentCode:"EMERGS",isChecked:!1},{name:"Portuguese Speaking",assessmentsId:"71931816-19b4-46a9-b58d-20e288dc3579",source:"emmersion",assessmentCode:"EMERPS",isChecked:!1},{name:"Italian Speaking",assessmentsId:"fb6bfec1-f449-490d-872c-727add76f629",source:"emmersion",assessmentCode:"EMERIT",isChecked:!1},{name:"Tagalog Speaking",assessmentsId:"52201723-5244-4baf-bb5d-f412f5fd5293",source:"emmersion",assessmentCode:"EMERTS",isChecked:!1},{name:"Japanese Speaking",assessmentsId:"538a04ce-46a9-4d34-a89b-1b19f8ff21b5",source:"emmersion",assessmentCode:"EMERJS",isChecked:!1}];var X={exports:{}},te;function be(){return te||(te=1,(()=>{var T={262:(n,l,d)=>{var S=d(586);function P(){}function N(){}N.resetWarningCache=P,n.exports=function(){function i(k,U,R,q,w,z){if(z!==S){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function D(){return i}i.isRequired=i;var b={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:D,element:i,elementType:i,instanceOf:D,node:i,objectOf:D,oneOf:D,oneOfType:D,shape:D,exact:D,checkPropTypes:N,resetWarningCache:P};return b.PropTypes=b,b}},980:(n,l,d)=>{n.exports=d(262)()},586:n=>{n.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},j={};function f(n){var l=j[n];if(l!==void 0)return l.exports;var d=j[n]={exports:{}};return T[n](d,d.exports,f),d.exports}f.n=n=>{var l=n&&n.__esModule?()=>n.default:()=>n;return f.d(l,{a:l}),l},f.d=(n,l)=>{for(var d in l)f.o(l,d)&&!f.o(n,d)&&Object.defineProperty(n,d,{enumerable:!0,get:l[d]})},f.o=(n,l)=>Object.prototype.hasOwnProperty.call(n,l),f.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var A={};(()=>{f.r(A),f.d(A,{default:()=>z});const n=oe();var l=f.n(n),d=f(980),S=f.n(d),P=["iframeURL","onEvent","anvilURL","scroll","style","className"];function N(){return N=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(a[c]=o[c])}return a},N.apply(this,arguments)}function i(a){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(a)}function D(a,e){for(var o=0;o<e.length;o++){var c=e[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,q(c.key),c)}}function b(a,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,c){return o.__proto__=c,o},b(a,e)}function k(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function U(a){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},U(a)}function R(a,e,o){return(e=q(e))in a?Object.defineProperty(a,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[e]=o,a}function q(a){var e=function(o,c){if(i(o)!=="object"||o===null)return o;var O=o[Symbol.toPrimitive];if(O!==void 0){var L=O.call(o,"string");if(i(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}(a);return i(e)==="symbol"?e:String(e)}var w=function(a){(function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(u&&u.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),u&&b(s,u)})(I,a);var e,o,c,O,L=(c=I,O=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var s,u=U(c);if(O){var g=U(this).constructor;s=Reflect.construct(u,arguments,g)}else s=u.apply(this,arguments);return function(v,y){if(y&&(i(y)==="object"||typeof y=="function"))return y;if(y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(v)}(this,s)});function I(s){var u;return function(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}(this,I),R(k(u=L.call(this,s)),"postMessage",function(g){u.iframeRef.current.contentWindow.postMessage(g,"*")}),R(k(u),"handleEvent",function(g){var v=g.origin,y=g.data,x=u.props,V=x.anvilURL,C=x.onEvent;V===v&&i(y)==="object"&&C(y)}),u.iframeRef=l().createRef(),u}return e=I,(o=[{key:"componentDidMount",value:function(){var s=this.props.scroll;s&&this.iframeRef.current.scrollIntoView({behavior:s}),window.addEventListener("message",this.handleEvent)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleEvent)}},{key:"render",value:function(){var s=this.props,u=s.iframeURL,g=(s.onEvent,s.anvilURL,s.scroll,s.style),v=s.className,y=function(x,V){if(x==null)return{};var C,Y,J=function(H,$){if(H==null)return{};var t,m,h={},E=Object.keys(H);for(m=0;m<E.length;m++)t=E[m],$.indexOf(t)>=0||(h[t]=H[t]);return h}(x,V);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(x);for(Y=0;Y<G.length;Y++)C=G[Y],V.indexOf(C)>=0||Object.prototype.propertyIsEnumerable.call(x,C)&&(J[C]=x[C])}return J}(s,P);return l().createElement("iframe",N({id:"anvil-embed-frame",name:"AnvilEmbedFrame",className:v},y,{src:u,ref:this.iframeRef,style:g}),l().createElement("p",{id:"anvil-iframe-warning"},"Your browser does not support iframes."))}}])&&D(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),I}(l().Component);w.defaultProps={onEvent:function(){},anvilURL:"https://app.useanvil.com"},w.propTypes={iframeURL:S().string.isRequired,onLoad:S().func,onEvent:S().func,anvilURL:S().string,scroll:S().oneOf(["auto","smooth"]),style:S().object,className:S().string};const z=w})(),X.exports=A})()),X.exports}var ge=be();const he=ie(ge),ye=({onClose:T,documentId:j,handleRefresh:f,formData:A,documentName:n,stageId:l})=>{const d=p.useRef(),[S,P]=p.useState(""),[N,i]=p.useState(j);p.useState(""),p.useState(!1),p.useState(!1);const[D,b]=p.useState(!1),[k,U]=p.useState(!1),[R,q]=p.useState([]),[w,z]=p.useState({hrName:"",hrEmail:"",recruiterName:"",recruiterEmail:""}),[a,e]=p.useState(""),[o,c]=p.useState(""),[O,L]=p.useState(""),[I,s]=p.useState(""),{hrName:u,hrEmail:g,recruiterEmail:v,recruiterName:y}=w;p.useEffect(()=>{N&&(async()=>{try{b(!0);const h=await(await fetch(Z+"/editTemplate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({castId:N,fieldData:A})})).json(),{url:E}=h.data.data.generateEmbedURL;let W=E+"&withinIframe=true";P(W),b(!1)}catch{b(!1)}})()},[N]);const x=async()=>{d.current.iframeRef.current.contentWindow.postMessage({action:"castEditSubmit"},"*")},V=async()=>{try{b(!0);const m=await(await fetch(Z+"/getTemplate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eid:j})})).json();if(m.data.data){let E=m.data.data.data.config.fields.filter(W=>W.type==="signature");if(E.length){let W=E.filter(M=>M.aliasId==="recruiterSignature"||M.aliasId==="hrSignature");if(W.length){U(!0);let M=[];W.forEach(K=>{M.push({name:K.aliasId==="recruiterSignature"?"recruiterName":"hrName",email:K.aliasId==="recruiterSignature"?"recruiterEmail":"hrEmail"})});const re=M.filter((K,ne,ae)=>ae.findIndex(se=>se.name===K.name)===ne);q(re)}else T()}else T();b(!1)}}catch{b(!1)}};let C=!1;p.useEffect(()=>{window.addEventListener("message",async({origin:t,data:m})=>{C||m&&typeof m=="object"&&(m.action==="signerLoad"||(m.action==="castEdit"?(V(),C=!0):m.action))})},[]);const Y=()=>{f(),T()},J=()=>{let t=!0;return R.findIndex(h=>h.name==="hrName")===-1&&(t=!1),t},G=()=>{let t=!0;return R.findIndex(h=>h.name==="recruiterName")===-1&&(t=!1),t},H=async()=>{let t=J(),m=G(),h=!1,E=!1;if(t&&(g?g.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)?(e(""),console.log("isCOmm"),h=!1):(e("please enter a valid email."),h=!0):(e("This filed is required."),h=!0),["",null,void 0].includes(u)?L("This field is required."):L("")),m&&(v?v.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)?(c(""),E=!1):(c("please enter a valid email."),E=!0):(c("This filed is required."),E=!0),["",null,void 0].includes(y)?s("This field is required."):s("")),h||E)return!1;console.log(a,"hrEmailError");let W={clientId:ce.getvalue("clientId"),jobId:l,templateId:j,documentName:n,additionalSignature:JSON.stringify(w)};ue(me.getByParams(193,"Curately/Workflow/workflow_documentsigning_save.jsp",W).then(M=>{T()}))},$=t=>{switch(z({...w,[t.target.name]:t.target.value}),t.target.name){case"recruiterName":s("");break;case"hrName":L("");break}};return r.jsxDEV(_,{container:!0,children:[r.jsxDEV(_,{md:12,lg:12,size:12,children:r.jsxDEV(F,{sx:{width:"100%",height:"75vh",display:"flex",justifyContent:"center",alignItems:"center"},children:D?r.jsxDEV(le,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:278,columnNumber:31},void 0):k?r.jsxDEV(_,{container:!0,children:[r.jsxDEV(_,{size:4},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:293,columnNumber:25},void 0),r.jsxDEV(_,{size:4,children:[r.jsxDEV(B,{component:"h4",sx:{fontWeight:"500",mb:2,fontSize:"18px"},children:"Add Emails"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:297,columnNumber:29},void 0),R.length&&R.map(t=>r.jsxDEV(r.Fragment,{children:[r.jsxDEV(F,{sx:{mb:1},children:[r.jsxDEV(B,{sx:{fontWeight:"500"},children:t.name==="recruiterName"?"Recruiter Name:":"HR Name:"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:302,columnNumber:45},void 0),r.jsxDEV(ee,{size:"small",sx:{width:"100%"},value:t.name==="recruiterName"?y:u,name:t.name,onChange:$},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:303,columnNumber:45},void 0),r.jsxDEV(F,{sx:{pt:1},children:r.jsxDEV(B,{sx:{color:"red",fontSize:"12px"},children:t.name==="recruiterName"?I:O},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:305,columnNumber:49},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:304,columnNumber:45},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:301,columnNumber:41},void 0),r.jsxDEV(F,{sx:{mb:1},children:[r.jsxDEV(B,{sx:{fontWeight:"500"},children:t.email==="recruiterEmail"?"Recruiter Email:":"HR Email:"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:309,columnNumber:45},void 0),r.jsxDEV(ee,{size:"small",sx:{width:"100%"},value:t.email==="recruiterEmail"?v:g,name:t.email,onChange:m=>{$(m),t.email==="recruiterEmail"?c(""):e("")}},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:310,columnNumber:45},void 0),r.jsxDEV(F,{sx:{pt:1},children:r.jsxDEV(B,{sx:{color:"red",fontSize:"12px"},children:t.email==="recruiterEmail"?o:a},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:320,columnNumber:49},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:319,columnNumber:45},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:308,columnNumber:41},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:300,columnNumber:37},void 0))]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:296,columnNumber:25},void 0),r.jsxDEV(_,{size:4},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:329,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:291,columnNumber:26},void 0):r.jsxDEV(he,{ref:d,iframeURL:S,onEvent:t=>{f()},style:{width:"100%",height:"100%",border:"none"},className:"anvil-embed-frame","data-anvil-embed":!0},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:278,columnNumber:69},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:277,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:276,columnNumber:13},void 0),r.jsxDEV(F,{sx:{display:"flex",justifyContent:"flex-end",mt:1,width:"100%"},children:[r.jsxDEV(Q,{type:"button",onClick:Y,sx:{textTransform:"none",mr:1},children:"Cancel"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:342,columnNumber:17},void 0),k?r.jsxDEV(Q,{type:"button",onClick:H,variant:"contained",children:"Submit"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:343,columnNumber:112},void 0):r.jsxDEV(Q,{type:"button",onClick:x,variant:"contained",children:"Save"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:343,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:341,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/Stages/DocumentSigning/CreateTemplate.jsx",lineNumber:274,columnNumber:9},void 0)},Ne=({open:T,onClose:j,documentId:f,handleRefresh:A,formData:n,documentName:l,stageId:d})=>r.jsxDEV(de.Fragment,{children:r.jsxDEV(fe,{open:T,onClose:j,className:"main-dialog",children:r.jsxDEV(pe,{sx:{overflow:"hidden"},children:r.jsxDEV(ye,{onClose:j,documentId:f,handleRefresh:A,formData:n,documentName:l,stageId:d},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/shared/DocumentModal/DocumentModal.tsx",lineNumber:26,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/shared/DocumentModal/DocumentModal.tsx",lineNumber:24,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/shared/DocumentModal/DocumentModal.tsx",lineNumber:22,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/shared/DocumentModal/DocumentModal.tsx",lineNumber:21,columnNumber:9},void 0);export{Ne as D,ve as m};
