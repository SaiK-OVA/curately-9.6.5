import{al as W,r as u,k as e,O as m,S as b,T as R,bV as V,L as N,B as y,l as j,W as S,A as L,V as A}from"./Cgppv_Sf.js";import{M as U}from"./D8IKBRq0.js";import{S as Y}from"./8-7dSsDd.js";import{D as l,A as w}from"./kx4FOAoQ.js";import{C as I}from"./CAYZvuI-.js";import{L as P,D as h}from"./CtTUZ4Jr.js";import"./BESjHuWm.js";import"./DYhLeBIs.js";import"./BxLAtHuG.js";import"./XPHitdj4.js";import"./DaGbQO6h.js";import"./6HgfybZm.js";import"./CW6dvan5.js";import"./CB9nuhLI.js";import"./Dho3ZFNS.js";import"./CagltWra.js";import"./D6SqIoha.js";import"./Bp2g836F.js";import"./DZd2l5Bl.js";import"./ChUKxi90.js";import"./dZX7lgtO.js";import"./DxILc9AR.js";import"./B-98_CNj.js";import"./DIGW6AYh.js";import"./BiLTbjOU.js";import"./CAWvjt4G.js";import"./CbCF5Xps.js";import"./BteIfgc7.js";import"./BJCg17MG.js";const Ae=()=>{const{sequenceType:d}=W(),[c,g]=u.useState([]),[s,f]=u.useState(l.now()),[n,D]=u.useState(l.now()),[x,p]=u.useState(!1),[i,E]=u.useState({pageIndex:0,pageSize:25}),C=u.useMemo(()=>{const t=i.pageIndex*i.pageSize,a=t+i.pageSize;return c.slice(t,a)},[c,i.pageIndex,i.pageSize]),v=[{accessorKey:"AuditlogID",header:"ID",size:80},{accessorKey:"fullName",header:"Candidate Name",Cell:({renderedCellValue:t,row:a})=>e.jsxDEV("span",{children:a.original.fullName},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:92,columnNumber:17},void 0)},{accessorKey:"CreatedDate",header:"Created Date",Cell:({renderedCellValue:t,row:a})=>e.jsxDEV("span",{children:l.fromSQL(a.original.CreatedDate.substring(0,10)).toFormat("MM/dd/yyyy")},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:104,columnNumber:17},void 0)},{accessorKey:"Description",header:"Description"},{accessorKey:"SequenceName",header:"Campaign Name"},{accessorKey:"StageNumber",header:"Stage Number"}],T=()=>{if(s&&n&&s.startOf("day")<=n.startOf("day")){let t={startDate:s.toFormat("yyyy-MM-dd"),endDate:n.toFormat("yyyy-MM-dd"),clientId:N.getvalue("clientId")};d==="candidate"?S(L.postWithData("admin","getAuditLog",t).then(a=>{if(p(!0),a.data.Status&&a.data.Status===200){let o=[...a.data.AuditLogList];for(let r=0;r<o.length;r++)o[r].id=r+1,o[r].actions="";g(o.reverse())}})):d==="contact"&&S(L.postWithData("admin","getSequenceContactAuditLog",t).then(a=>{if(p(!0),a.data.Status&&a.data.Status===200){let o=[...a.data.AuditLogList];for(let r=0;r<o.length;r++)o[r].id=r+1,o[r].actions="";g(o.reverse())}}))}else s?n?s.startOf("day")>n.startOf("day")&&A("Start Date should be less than End Date.","error"):A("Enter Valid End Date.","error"):A("Enter Valid Start Date.","error")},q=t=>{L.saveAuditLog(t)};return e.jsxDEV(e.Fragment,{children:e.jsxDEV("div",{className:"",id:"auditLog",children:e.jsxDEV("div",{className:"",children:[e.jsxDEV(m,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",className:"customCard px-4 py-2 mb-2",sx:{minHeight:"auto !important"},children:[e.jsxDEV(b,{direction:"row",spacing:3,children:e.jsxDEV(R,{variant:"h6",className:"header, pt-1",children:" Audit Log "},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:214,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:213,columnNumber:21},void 0),e.jsxDEV("div",{className:"d-flex",children:e.jsxDEV(V,{to:`/${N.getvalue("clientName")}/letter/campaigns/${d}/list`,className:"btn btn-primary ml-2 c-white underlineNone",children:e.jsxDEV(y,{variant:"outlined",color:"secondary",size:"small",children:"Back to List"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:220,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:219,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:217,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:205,columnNumber:17},void 0),e.jsxDEV(m,{className:"my-3 customCard ",container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",children:[e.jsxDEV(b,{direction:"row",spacing:3,children:e.jsxDEV(P,{dateAdapter:w,children:e.jsxDEV(m,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",children:[e.jsxDEV(h,{label:"Start Date",value:s,onChange:t=>{f(t||l.now())},slotProps:{textField:{size:"small",fullWidth:!1,InputProps:{style:{textAlign:"center"}}}},maxDate:n},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:245,columnNumber:33},void 0),e.jsxDEV(j,{sx:{mx:2},children:" to "},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:271,columnNumber:33},void 0),e.jsxDEV(h,{label:"End Date",value:n,onChange:t=>{D(t||l.now())},slotProps:{textField:{size:"small",fullWidth:!1,InputProps:{style:{textAlign:"center"}}}},maxDate:l.now()},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:272,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:239,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:238,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:237,columnNumber:21},void 0),e.jsxDEV(y,{variant:"contained",color:"primary",className:"ml-4",fullWidth:!0,onClick:()=>{T(),q(4196)},children:"Get Data"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:302,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:230,columnNumber:17},void 0),e.jsxDEV("div",{className:"p-4 customCard CardView",children:e.jsxDEV("div",{className:"MRTableCustom pl-0 ",children:x?e.jsxDEV(U,{columns:v,data:C,enablePinning:!0,initialState:{columnPinning:{left:["mrt-row-select"]},density:"compact",showGlobalFilter:!1},enableDensityToggle:!1,enableFullScreenToggle:!1,enableGlobalFilterModes:!0,columnResizeMode:"onChange",getRowId:t=>t.sequence_id,enableStickyHeader:!0,enablePagination:!1,renderBottomToolbarCustomActions:()=>e.jsxDEV(I,{page:i.pageIndex,rowsPerPage:25,rowCount:c.length,onChangePage:t=>E({...i,pageIndex:t,pageSize:25})},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:333,columnNumber:41},void 0),icons:{ArrowDownwardIcon:t=>e.jsxDEV(Y,{...t},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:348,columnNumber:45},void 0)}},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:312,columnNumber:33},void 0):null},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:308,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:306,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:204,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:203,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:202,columnNumber:12},void 0)};export{Ae as default};
