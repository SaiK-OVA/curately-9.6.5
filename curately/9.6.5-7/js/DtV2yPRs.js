import{r as n,k as a,O as v,S as h,T as _,l as ee,B as j,L as x,W as w,A as U,V as l}from"./Cgppv_Sf.js";import{M as ae}from"./D8IKBRq0.js";import{C as te}from"./CAYZvuI-.js";import{S as ie}from"./8-7dSsDd.js";import{A as ne,D as de}from"./kx4FOAoQ.js";import{C as re}from"./DbnMMxSH.js";import{F as oe}from"./3Gqd8Nje.js";import{T as J,C as le}from"./BxLAtHuG.js";import{L as se,D as Y}from"./CtTUZ4Jr.js";import{I}from"./Bp2g836F.js";import{S as ce}from"./GDwwTdj-.js";import{C as ue}from"./B93O5liC.js";import{T as me}from"./CagltWra.js";import"./BESjHuWm.js";import"./DYhLeBIs.js";import"./DaGbQO6h.js";import"./6HgfybZm.js";import"./CW6dvan5.js";import"./CB9nuhLI.js";import"./Dho3ZFNS.js";import"./DZd2l5Bl.js";import"./ChUKxi90.js";import"./XPHitdj4.js";import"./dZX7lgtO.js";import"./DxILc9AR.js";import"./D6SqIoha.js";import"./B-98_CNj.js";import"./DIGW6AYh.js";import"./BiLTbjOU.js";import"./CAWvjt4G.js";import"./CbCF5Xps.js";import"./BteIfgc7.js";import"./BJCg17MG.js";const He=()=>{const[r,g]=n.useState(),[d,S]=n.useState(),[P,k]=n.useState(!1),[u,M]=n.useState(""),[m,p]=n.useState(""),[c,z]=n.useState([]),[D,A]=n.useState(""),[F,E]=n.useState(!1),[b,C]=n.useState({}),[O,B]=n.useState(0),[K,De]=n.useState([]),[G,H]=n.useState(),[s,N]=n.useState({pageIndex:0,pageSize:10}),Z=[{accessorKey:"name",header:"Candidate Name"},{accessorKey:"email",header:"Email",Cell:({row:e})=>e.original.email.toLowerCase()},{accessorKey:"dateLastModified",header:"Date",Cell:({row:e})=>oe.formatMillisecondsToCustomDate(+e.original.dateLastModified)},{accessorKey:"curatelyId",header:"Curately",Cell:({row:e})=>e.original.curatelyId?a.jsxDEV(me,{title:"Curately Id",children:a.jsxDEV("span",{className:"ml-4",children:e.original.curatelyId?a.jsxDEV(re,{},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:83,columnNumber:54},void 0):""},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:82,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:81,columnNumber:45},void 0):"",size:80}],$=()=>{const e=Object.keys(b);let t={atsName:"Bullhorn",clientId:x.getvalue("clientId"),recruiterId:x.getvalue("recrId"),moduleName:"Candidate",atsValues:e};w(U.postWithData("ats","ats/consume",t).then(i=>{var o,f;(o=i.data)!=null&&o.Success&&((f=i.data)==null?void 0:f.Status)===200?(l(i.data.Message,"success"),C({}),E(!1),y()):l(i.data.Message?i.data.Message:"An error occured while getting this Push to Curately.","error")}))},q=n.useMemo(()=>(c==null?void 0:c.filter(e=>e.name.toLowerCase().includes(D.toLowerCase()||"")))??[],[D,c]),y=()=>{if(u||m||r&&d&&r.startOf("day")<=d.startOf("day")){let e={entityName:"Candidate",clientId:x.getvalue("clientId"),candidate:{name:u,email:m,dateAdded:r?r.toFormat("yyyyMMdd"):"",dateLastModified:d?d.toFormat("yyyyMMdd"):""},count:s.pageSize,sort:"-dateLastModified",start:s.pageIndex*s.pageSize,fields:"id,name,email,dateLastModified"};w(U.postWithData("ats","bullhorn/search",e).then(t=>{var i,o,f,T,L,R,W,V;k(!0),console.log(t.data),console.log((o=(i=t.data)==null?void 0:i.data)==null?void 0:o.total),(f=t.data)!=null&&f.Success&&((T=t.data)==null?void 0:T.Status)===200?(B(Number((R=(L=t.data)==null?void 0:L.data)!=null&&R.total?(V=(W=t.data)==null?void 0:W.data)==null?void 0:V.total:0)),z([...t.data.data.data])):l(t.data.Message?t.data.Message:"An error occured while getting this Candidate Name.","error")}))}else!u&&!m?l("Enter Valid Candidate Name or Email.","error"):r?d?r.startOf("day")>d.startOf("day")&&l("Start Date should be less than End Date.","error"):l("Enter Valid End Date.","error"):l("Enter Valid Start Date.","error")};n.useEffect(()=>{(u||m||r&&d&&r.startOf("day")<=d.startOf("day"))&&y()},[s.pageIndex,s.pageSize]);const Q=async e=>{if(E(e.target.checked),e.target.checked){let t={},i=c;for(let o=0;o<c.length;o++)t[i[o].id]=!0;C(t)}else C({})},X=e=>{const t=e?e.trim():"";if(t&&p(t),!t.includes(" ")&&t.includes("@"))if(t.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))p(t);else{l("Please enter valid Email","error");return}};return a.jsxDEV("div",{className:"",id:"DivaCandidates",children:a.jsxDEV("div",{className:"",children:[a.jsxDEV(v,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",className:"customCard px-4 py-2 mb-2",sx:{minHeight:"auto !important"},children:a.jsxDEV(h,{direction:"row",spacing:3,children:a.jsxDEV(_,{variant:"h6",className:"header, pt-1",children:"Diva Candidates"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:239,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:238,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:230,columnNumber:17},void 0),a.jsxDEV(v,{className:"my-3 customCard ",container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",children:[a.jsxDEV(h,{direction:"row",spacing:3,style:{paddingRight:"22px"},children:a.jsxDEV(J,{fullWidth:!0,label:"Candidate Name",size:"small",placeholder:"Search by Candidate Name",value:u,onChange:e=>M(e.target.value)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:253,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:252,columnNumber:21},void 0),a.jsxDEV(h,{direction:"row",spacing:3,style:{paddingRight:"22px"},children:a.jsxDEV(J,{fullWidth:!0,label:"Candidate Email",size:"small",onKeyUp:e=>{e.key==="Enter"&&e.target.value&&X(e.target.value)},placeholder:"Search by Candidate Email",value:m,onChange:e=>p(e.target.value)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:263,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:262,columnNumber:21},void 0),a.jsxDEV(h,{direction:"row",spacing:3,children:a.jsxDEV(se,{dateAdapter:ne,children:a.jsxDEV(v,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",children:[a.jsxDEV(Y,{label:"Start Date",value:r,onChange:e=>{g(e||"")},slotProps:{textField:{size:"small",fullWidth:!1,InputProps:{style:{textAlign:"center"}}}},maxDate:d},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:287,columnNumber:33},void 0),a.jsxDEV(ee,{sx:{mx:2},children:" to "},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:311,columnNumber:33},void 0),a.jsxDEV(Y,{label:"End Date",value:d,onChange:e=>{S(e||"")},slotProps:{textField:{size:"small",fullWidth:!1,InputProps:{style:{textAlign:"center"}}}},maxDate:de.now()},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:312,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:281,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:280,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:279,columnNumber:21},void 0),a.jsxDEV(j,{variant:"contained",color:"primary",className:"ml-4",fullWidth:!0,onClick:()=>{N({pageIndex:0,pageSize:10}),y()},children:"Search"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:339,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:245,columnNumber:17},void 0),a.jsxDEV("div",{className:"p-4 customCard CardView",children:P?a.jsxDEV("div",{className:"MRTableCustom pl-0 ",children:[a.jsxDEV(v,{container:!0,className:"actionItems",width:"auto",children:[a.jsxDEV(le,{className:"select-all-checkbox",disableRipple:!0,color:"default",checked:F,onChange:Q},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:361,columnNumber:29},void 0),a.jsxDEV(j,{variant:"outlined",color:"secondary",className:"mr-2 ml-2",disabled:!(Object.keys(b).length>0),onClick:()=>$(),children:"Push to Curately"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:369,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:360,columnNumber:25},void 0),a.jsxDEV(ae,{columns:Z,enableRowSelection:!0,data:q,enablePinning:!0,muiSearchTextFieldProps:{placeholder:"Search",sx:{width:"205px",right:"50px",padding:"-10px",height:"20px",marginTop:"-10px",marginRight:"-40px"},value:D,onChange:e=>{A(e.target.value)},InputProps:{startAdornment:a.jsxDEV(I,{position:"start",children:a.jsxDEV(ce,{fontSize:"small",htmlColor:"#757575"},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:391,columnNumber:86},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:391,columnNumber:53},void 0),endAdornment:a.jsxDEV(I,{position:"end",disablePointerEvents:!D,children:a.jsxDEV(ue,{fontSize:"small",htmlColor:D?"#757575":"#ebebeb",sx:{cursor:"pointer"},onClick:()=>A("")},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:393,columnNumber:41},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:392,columnNumber:51},void 0)}},initialState:{density:"compact",showGlobalFilter:!0},onGlobalFilterChange:H,enableDensityToggle:!1,enableFullScreenToggle:!1,columnResizeMode:"onChange",getRowId:e=>e.id,onPaginationChange:N,state:{columnFilters:K,globalFilter:G,rowSelection:b},onRowSelectionChange:C,enableStickyHeader:!0,enablePagination:!1,muiSelectCheckboxProps:e=>({onChange:t=>{if(e.row.id){let i={...b};t.target.checked?i[e.row.id]=t.target.checked:i.hasOwnProperty(e.row.id)&&delete i[e.row.id],C(i)}}}),renderBottomToolbarCustomActions:()=>a.jsxDEV(te,{page:s.pageIndex,rowsPerPage:10,rowCount:O,onChangePage:e=>{N({...s,pageIndex:e,pageSize:10})}},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:442,columnNumber:33},void 0),icons:{ArrowDownwardIcon:e=>a.jsxDEV(ie,{...e},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:458,columnNumber:37},void 0)}},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:380,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:358,columnNumber:33},void 0):null},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:356,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:229,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/AWS-CURATELY-9.6.5/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/DivaCandidate/DivaCandidate.tsx",lineNumber:228,columnNumber:9},void 0)};export{He as default};
